'use strict';

var Scene = require('../scene'),
    Canvas = require('../canvas'),
    cubes = require('./intermediate/cubes'),
    ColourShader = require('../shader/colour'),
    TextureShader = require('../shader/texture');

var create = cubes.create;


function intermediate() {
  var canvas = new Canvas(),
      colourShader = ColourShader.fromNothing(canvas),
      textureShader = TextureShader.fromNothing(canvas);

  create(colourShader, textureShader, canvas, function () {
    canvas.enableDepthTesting();
    canvas.enableDepthFunction();

    colourShader.createBuffers(canvas);
    textureShader.createBuffers(canvas);

    Scene.fromCanvasAndShaders(canvas, colourShader, textureShader);
  });
}

module.exports = intermediate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9leGFtcGxlcy9pbnRlcm1lZGlhdGUuanMiXSwibmFtZXMiOlsiU2NlbmUiLCJyZXF1aXJlIiwiQ2FudmFzIiwiY3ViZXMiLCJDb2xvdXJTaGFkZXIiLCJUZXh0dXJlU2hhZGVyIiwiY3JlYXRlIiwiaW50ZXJtZWRpYXRlIiwiY2FudmFzIiwiY29sb3VyU2hhZGVyIiwiZnJvbU5vdGhpbmciLCJ0ZXh0dXJlU2hhZGVyIiwiZW5hYmxlRGVwdGhUZXN0aW5nIiwiZW5hYmxlRGVwdGhGdW5jdGlvbiIsImNyZWF0ZUJ1ZmZlcnMiLCJmcm9tQ2FudmFzQW5kU2hhZGVycyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFFBQVFDLFFBQVEsVUFBUixDQUFkO0FBQUEsSUFDTUMsU0FBU0QsUUFBUSxXQUFSLENBRGY7QUFBQSxJQUVNRSxRQUFRRixRQUFRLHNCQUFSLENBRmQ7QUFBQSxJQUdNRyxlQUFlSCxRQUFRLGtCQUFSLENBSHJCO0FBQUEsSUFJTUksZ0JBQWdCSixRQUFRLG1CQUFSLENBSnRCOztJQU1RSyxNLEdBQVdILEssQ0FBWEcsTTs7O0FBRVIsU0FBU0MsWUFBVCxHQUF3QjtBQUN0QixNQUFNQyxTQUFTLElBQUlOLE1BQUosRUFBZjtBQUFBLE1BQ01PLGVBQWVMLGFBQWFNLFdBQWIsQ0FBeUJGLE1BQXpCLENBRHJCO0FBQUEsTUFFTUcsZ0JBQWdCTixjQUFjSyxXQUFkLENBQTBCRixNQUExQixDQUZ0Qjs7QUFJQUYsU0FBT0csWUFBUCxFQUFxQkUsYUFBckIsRUFBb0NILE1BQXBDLEVBQTRDLFlBQVc7QUFDckRBLFdBQU9JLGtCQUFQO0FBQ0FKLFdBQU9LLG1CQUFQOztBQUVBSixpQkFBYUssYUFBYixDQUEyQk4sTUFBM0I7QUFDQUcsa0JBQWNHLGFBQWQsQ0FBNEJOLE1BQTVCOztBQUVBUixVQUFNZSxvQkFBTixDQUEyQlAsTUFBM0IsRUFBbUNDLFlBQW5DLEVBQWlERSxhQUFqRDtBQUNELEdBUkQ7QUFTRDs7QUFFREssT0FBT0MsT0FBUCxHQUFpQlYsWUFBakIiLCJmaWxlIjoiaW50ZXJtZWRpYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBTY2VuZSA9IHJlcXVpcmUoJy4uL3NjZW5lJyksXG4gICAgICBDYW52YXMgPSByZXF1aXJlKCcuLi9jYW52YXMnKSxcbiAgICAgIGN1YmVzID0gcmVxdWlyZSgnLi9pbnRlcm1lZGlhdGUvY3ViZXMnKSxcbiAgICAgIENvbG91clNoYWRlciA9IHJlcXVpcmUoJy4uL3NoYWRlci9jb2xvdXInKSxcbiAgICAgIFRleHR1cmVTaGFkZXIgPSByZXF1aXJlKCcuLi9zaGFkZXIvdGV4dHVyZScpO1xuXG5jb25zdCB7IGNyZWF0ZSB9ID0gY3ViZXM7XG5cbmZ1bmN0aW9uIGludGVybWVkaWF0ZSgpIHtcbiAgY29uc3QgY2FudmFzID0gbmV3IENhbnZhcygpLFxuICAgICAgICBjb2xvdXJTaGFkZXIgPSBDb2xvdXJTaGFkZXIuZnJvbU5vdGhpbmcoY2FudmFzKSxcbiAgICAgICAgdGV4dHVyZVNoYWRlciA9IFRleHR1cmVTaGFkZXIuZnJvbU5vdGhpbmcoY2FudmFzKTtcblxuICBjcmVhdGUoY29sb3VyU2hhZGVyLCB0ZXh0dXJlU2hhZGVyLCBjYW52YXMsIGZ1bmN0aW9uKCkge1xuICAgIGNhbnZhcy5lbmFibGVEZXB0aFRlc3RpbmcoKTtcbiAgICBjYW52YXMuZW5hYmxlRGVwdGhGdW5jdGlvbigpO1xuXG4gICAgY29sb3VyU2hhZGVyLmNyZWF0ZUJ1ZmZlcnMoY2FudmFzKTtcbiAgICB0ZXh0dXJlU2hhZGVyLmNyZWF0ZUJ1ZmZlcnMoY2FudmFzKTtcblxuICAgIFNjZW5lLmZyb21DYW52YXNBbmRTaGFkZXJzKGNhbnZhcywgY29sb3VyU2hhZGVyLCB0ZXh0dXJlU2hhZGVyKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW50ZXJtZWRpYXRlO1xuIl19