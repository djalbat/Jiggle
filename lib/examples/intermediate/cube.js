'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var vec3 = require('../../vec3'),
    Element = require('../../element'),
    arrayUtilities = require('../../utilities/array');

var vertexPositionData = [-1.0, -1.0, +1.0, +1.0, -1.0, +1.0, +1.0, +1.0, +1.0, -1.0, +1.0, +1.0, -1.0, -1.0, -1.0, -1.0, +1.0, -1.0, +1.0, +1.0, -1.0, +1.0, -1.0, -1.0, -1.0, +1.0, -1.0, -1.0, +1.0, +1.0, +1.0, +1.0, +1.0, +1.0, +1.0, -1.0, -1.0, -1.0, -1.0, +1.0, -1.0, -1.0, +1.0, -1.0, +1.0, -1.0, -1.0, +1.0, +1.0, -1.0, -1.0, +1.0, +1.0, -1.0, +1.0, +1.0, +1.0, +1.0, -1.0, +1.0, -1.0, -1.0, -1.0, -1.0, -1.0, +1.0, -1.0, +1.0, +1.0, -1.0, +1.0, -1.0],
    vertexNormalData = [0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0],
    vertexIndexData = [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23];

var divide = arrayUtilities.divide,
    flatten = arrayUtilities.flatten;

var Cube = function (_Element) {
  _inherits(Cube, _Element);

  function Cube(vertexPositionData, vertexNormalData, vertexIndexData) {
    _classCallCheck(this, Cube);

    var _this = _possibleConstructorReturn(this, (Cube.__proto__ || Object.getPrototypeOf(Cube)).call(this));

    _this.vertexPositionData = vertexPositionData;
    _this.vertexNormalData = vertexNormalData;
    _this.vertexIndexData = vertexIndexData;
    return _this;
  }

  _createClass(Cube, [{
    key: 'getVertexPositionData',
    value: function getVertexPositionData() {
      return this.vertexPositionData;
    }
  }, {
    key: 'getVertexNormalData',
    value: function getVertexNormalData() {
      return this.vertexNormalData;
    }
  }, {
    key: 'getVertexIndexData',
    value: function getVertexIndexData() {
      return this.vertexIndexData;
    }
  }], [{
    key: 'fromProperties',
    value: function fromProperties(Class, properties) {
      var offsetPosition = properties.offsetPosition,
          vertexPositionData = vertexPositionDataFromOffsetPosition(offsetPosition);

      for (var _len = arguments.length, remainingArguments = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        remainingArguments[_key - 2] = arguments[_key];
      }

      return new (Function.prototype.bind.apply(Class, [null].concat([vertexPositionData, vertexNormalData, vertexIndexData], remainingArguments)))();
    }
  }]);

  return Cube;
}(Element);

module.exports = Cube;

function vertexPositionDataFromOffsetPosition(offsetPosition) {
  var vertexPositions = divide(vertexPositionData, 3); ///

  vertexPositions = vertexPositions.map(function (vertexPosition) {
    var offsetVertexPosition = vec3.add(vertexPosition, offsetPosition);

    return offsetVertexPosition;
  });

  return flatten(vertexPositions);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VzNi9leGFtcGxlcy9pbnRlcm1lZGlhdGUvY3ViZS5qcyJdLCJuYW1lcyI6WyJ2ZWMzIiwicmVxdWlyZSIsIkVsZW1lbnQiLCJhcnJheVV0aWxpdGllcyIsInZlcnRleFBvc2l0aW9uRGF0YSIsInZlcnRleE5vcm1hbERhdGEiLCJ2ZXJ0ZXhJbmRleERhdGEiLCJkaXZpZGUiLCJmbGF0dGVuIiwiQ3ViZSIsIkNsYXNzIiwicHJvcGVydGllcyIsIm9mZnNldFBvc2l0aW9uIiwidmVydGV4UG9zaXRpb25EYXRhRnJvbU9mZnNldFBvc2l0aW9uIiwicmVtYWluaW5nQXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyIsInZlcnRleFBvc2l0aW9ucyIsIm1hcCIsInZlcnRleFBvc2l0aW9uIiwib2Zmc2V0VmVydGV4UG9zaXRpb24iLCJhZGQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0FBRUEsSUFBTUEsT0FBT0MsUUFBUSxZQUFSLENBQWI7QUFBQSxJQUNNQyxVQUFVRCxRQUFRLGVBQVIsQ0FEaEI7QUFBQSxJQUVNRSxpQkFBaUJGLFFBQVEsdUJBQVIsQ0FGdkI7O0FBSUEsSUFBTUcscUJBQXFCLENBQ3JCLENBQUMsR0FEb0IsRUFDZixDQUFDLEdBRGMsRUFDVCxDQUFDLEdBRFEsRUFFckIsQ0FBQyxHQUZvQixFQUVmLENBQUMsR0FGYyxFQUVULENBQUMsR0FGUSxFQUdyQixDQUFDLEdBSG9CLEVBR2YsQ0FBQyxHQUhjLEVBR1QsQ0FBQyxHQUhRLEVBSXJCLENBQUMsR0FKb0IsRUFJZixDQUFDLEdBSmMsRUFJVCxDQUFDLEdBSlEsRUFNckIsQ0FBQyxHQU5vQixFQU1mLENBQUMsR0FOYyxFQU1ULENBQUMsR0FOUSxFQU9yQixDQUFDLEdBUG9CLEVBT2YsQ0FBQyxHQVBjLEVBT1QsQ0FBQyxHQVBRLEVBUXJCLENBQUMsR0FSb0IsRUFRZixDQUFDLEdBUmMsRUFRVCxDQUFDLEdBUlEsRUFTckIsQ0FBQyxHQVRvQixFQVNmLENBQUMsR0FU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LENBRHJCOztBQUR3RCx3Q0FBcEJFLGtCQUFvQjtBQUFwQkEsMEJBQW9CO0FBQUE7O0FBSTlELGdEQUFXSixLQUFYLGlCQUFpQk4sa0JBQWpCLEVBQXFDQyxnQkFBckMsRUFBdURDLGVBQXZELEdBQTJFUSxrQkFBM0U7QUFDRDs7OztFQTFCZ0JaLE87O0FBNkJuQmEsT0FBT0MsT0FBUCxHQUFpQlAsSUFBakI7O0FBRUEsU0FBU0ksb0NBQVQsQ0FBOENELGNBQTlDLEVBQThEO0FBQzVELE1BQUlLLGtCQUFrQlYsT0FBT0gsa0JBQVAsRUFBMkIsQ0FBM0IsQ0FBdEIsQ0FENEQsQ0FDTjs7QUFFdERhLG9CQUFrQkEsZ0JBQWdCQyxHQUFoQixDQUFvQixVQUFTQyxjQUFULEVBQXlCO0FBQzdELFFBQU1DLHVCQUF1QnBCLEtBQUtxQixHQUFMLENBQVNGLGNBQVQsRUFBeUJQLGNBQXpCLENBQTdCOztBQUVBLFdBQU9RLG9CQUFQO0FBQ0QsR0FKaUIsQ0FBbEI7O0FBTUEsU0FBT1osUUFBUVMsZUFBUixDQUFQO0FBQ0QiLCJmaWxlIjoiY3ViZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdmVjMyA9IHJlcXVpcmUoJy4uLy4uL3ZlYzMnKSxcbiAgICAgIEVsZW1lbnQgPSByZXF1aXJlKCcuLi8uLi9lbGVtZW50JyksXG4gICAgICBhcnJheVV0aWxpdGllcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdGllcy9hcnJheScpO1xuXG5jb25zdCB2ZXJ0ZXhQb3NpdGlvbkRhdGEgPSBbXG4gICAgICAtMS4wLCAtMS4wLCArMS4wLFxuICAgICAgKzEuMCwgLTEuMCwgKzEuMCxcbiAgICAgICsxLjAsICsxLjAsICsxLjAsXG4gICAgICAtMS4wLCArMS4wLCArMS4wLFxuXG4gICAgICAtMS4wLCAtMS4wLCAtMS4wLFxuICAgICAgLTEuMCwgKzEuMCwgLTEuMCxcbiAgICAgICsxLjAsICsxLjAsIC0xLjAsXG4gICAgICArMS4wLCAtMS4wLCAtMS4wLFxuXG4gICAgICAtMS4wLCArMS4wLCAtMS4wLFxuICAgICAgLTEuMCwgKzEuMCwgKzEuMCxcbiAgICAgICsxLjAsICsxLjAsICsxLjAsXG4gICAgICArMS4wLCArMS4wLCAtMS4wLFxuXG4gICAgICAtMS4wLCAtMS4wLCAtMS4wLFxuICAgICAgKzEuMCwgLTEuMCwgLTEuMCxcbiAgICAgICsxLjAsIC0xLjAsICsxLjAsXG4gICAgICAtMS4wLCAtMS4wLCArMS4wLFxuXG4gICAgICArMS4wLCAtMS4wLCAtMS4wLFxuICAgICAgKzEuMCwgKzEuMCwgLTEuMCxcbiAgICAgICsxLjAsICsxLjAsICsxLjAsXG4gICAgICArMS4wLCAtMS4wLCArMS4wLFxuXG4gICAgICAtMS4wLCAtMS4wLCAtMS4wLFxuICAgICAgLTEuMCwgLTEuMCwgKzEuMCxcbiAgICAgIC0xLjAsICsxLjAsICsxLjAsXG4gICAgICAtMS4wLCArMS4wLCAtMS4wXG4gICAgXSxcbiAgICAgIHZlcnRleE5vcm1hbERhdGEgPSBbXG4gICAgICAwLjAsICAwLjAsICsxLjAsXG4gICAgICAwLjAsICAwLjAsICsxLjAsXG4gICAgICAwLjAsICAwLjAsICsxLjAsXG4gICAgICAwLjAsICAwLjAsICsxLjAsXG5cbiAgICAgIDAuMCwgIDAuMCwgLTEuMCxcbiAgICAgIDAuMCwgIDAuMCwgLTEuMCxcbiAgICAgIDAuMCwgIDAuMCwgLTEuMCxcbiAgICAgIDAuMCwgIDAuMCwgLTEuMCxcblxuICAgICAgMC4wLCArMS4wLCAgMC4wLFxuICAgICAgMC4wLCArMS4wLCAgMC4wLFxuICAgICAgMC4wLCArMS4wLCAgMC4wLFxuICAgICAgMC4wLCArMS4wLCAgMC4wLFxuXG4gICAgICAwLjAsIC0xLjAsICAwLjAsXG4gICAgICAwLjAsIC0xLjAsICAwLjAsXG4gICAgICAwLjAsIC0xLjAsICAwLjAsXG4gICAgICAwLjAsIC0xLjAsICAwLjAsXG5cbiAgICAgICsxLjAsICAwLjAsICAwLjAsXG4gICAgICArMS4wLCAgMC4wLCAgMC4wLFxuICAgICAgKzEuMCwgIDAuMCwgIDAuMCxcbiAgICAgICsxLjAsICAwLjAsICAwLjAsXG5cbiAgICAgIC0xLjAsICAwLjAsICAwLjAsXG4gICAgICAtMS4wLCAgMC4wLCAgMC4wLFxuICAgICAgLTEuMCwgIDAuMCwgIDAuMCxcbiAgICAgIC0xLjAsICAwLjAsICAwLjBcbiAgICBdLFxuICAgICAgdmVydGV4SW5kZXhEYXRhID0gW1xuICAgICAgMCwgIDEsICAyLFxuICAgICAgMCwgIDIsICAzLFxuXG4gICAgICA0LCAgNSwgIDYsXG4gICAgICA0LCAgNiwgIDcsXG5cbiAgICAgIDgsICA5LCAxMCxcbiAgICAgIDgsIDEwLCAxMSxcblxuICAgICAgMTIsIDEzLCAxNCxcbiAgICAgIDEyLCAxNCwgMTUsXG5cbiAgICAgIDE2LCAxNywgMTgsXG4gICAgICAxNiwgMTgsIDE5LFxuXG4gICAgICAyMCwgMjEsIDIyLFxuICAgICAgMjAsIDIyLCAyM1xuICAgIF07XG5cbmNvbnN0IHsgZGl2aWRlLCBmbGF0dGVuIH0gPSBhcnJheVV0aWxpdGllcztcblxuY2xhc3MgQ3ViZSBleHRlbmRzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhQb3NpdGlvbkRhdGEsIHZlcnRleE5vcm1hbERhdGEsIHZlcnRleEluZGV4RGF0YSkge1xuICAgIHN1cGVyKCk7XG4gICAgXG4gICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkRhdGEgPSB2ZXJ0ZXhQb3NpdGlvbkRhdGE7XG4gICAgdGhpcy52ZXJ0ZXhOb3JtYWxEYXRhID0gdmVydGV4Tm9ybWFsRGF0YTtcbiAgICB0aGlzLnZlcnRleEluZGV4RGF0YSA9IHZlcnRleEluZGV4RGF0YTtcbiAgfVxuXG4gIGdldFZlcnRleFBvc2l0aW9uRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0ZXhQb3NpdGlvbkRhdGE7XG4gIH1cblxuICBnZXRWZXJ0ZXhOb3JtYWxEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLnZlcnRleE5vcm1hbERhdGE7XG4gIH1cblxuICBnZXRWZXJ0ZXhJbmRleERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMudmVydGV4SW5kZXhEYXRhO1xuICB9XG4gIFxuICBzdGF0aWMgZnJvbVByb3BlcnRpZXMoQ2xhc3MsIHByb3BlcnRpZXMsIC4uLnJlbWFpbmluZ0FyZ3VtZW50cykge1xuICAgIGNvbnN0IHsgb2Zmc2V0UG9zaXRpb24gfSA9IHByb3BlcnRpZXMsXG4gICAgICAgICAgdmVydGV4UG9zaXRpb25EYXRhID0gdmVydGV4UG9zaXRpb25EYXRhRnJvbU9mZnNldFBvc2l0aW9uKG9mZnNldFBvc2l0aW9uKTtcbiAgICBcbiAgICByZXR1cm4gbmV3IENsYXNzKHZlcnRleFBvc2l0aW9uRGF0YSwgdmVydGV4Tm9ybWFsRGF0YSwgdmVydGV4SW5kZXhEYXRhLCAuLi5yZW1haW5pbmdBcmd1bWVudHMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ3ViZTtcblxuZnVuY3Rpb24gdmVydGV4UG9zaXRpb25EYXRhRnJvbU9mZnNldFBvc2l0aW9uKG9mZnNldFBvc2l0aW9uKSB7XG4gIGxldCB2ZXJ0ZXhQb3NpdGlvbnMgPSBkaXZpZGUodmVydGV4UG9zaXRpb25EYXRhLCAzKTsgIC8vL1xuXG4gIHZlcnRleFBvc2l0aW9ucyA9IHZlcnRleFBvc2l0aW9ucy5tYXAoZnVuY3Rpb24odmVydGV4UG9zaXRpb24pIHtcbiAgICBjb25zdCBvZmZzZXRWZXJ0ZXhQb3NpdGlvbiA9IHZlYzMuYWRkKHZlcnRleFBvc2l0aW9uLCBvZmZzZXRQb3NpdGlvbik7XG5cbiAgICByZXR1cm4gb2Zmc2V0VmVydGV4UG9zaXRpb247XG4gIH0pO1xuXG4gIHJldHVybiBmbGF0dGVuKHZlcnRleFBvc2l0aW9ucyk7XG59XG4iXX0=