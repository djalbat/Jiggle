'use strict';

var vec3 = require('../../../vec3'),
    TextureShader = require('../../../shader/texture'),
    arrayUtilities = require('../../../utilities/array');

var divide = arrayUtilities.divide,
    flatten = arrayUtilities.flatten;


var textureCoordinateData = [0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0],
    vertexPositionData = [-1.0, -1.0, +1.0, +1.0, -1.0, +1.0, +1.0, +1.0, +1.0, -1.0, +1.0, +1.0, -1.0, -1.0, -1.0, -1.0, +1.0, -1.0, +1.0, +1.0, -1.0, +1.0, -1.0, -1.0, -1.0, +1.0, -1.0, -1.0, +1.0, +1.0, +1.0, +1.0, +1.0, +1.0, +1.0, -1.0, -1.0, -1.0, -1.0, +1.0, -1.0, -1.0, +1.0, -1.0, +1.0, -1.0, -1.0, +1.0, +1.0, -1.0, -1.0, +1.0, +1.0, -1.0, +1.0, +1.0, +1.0, +1.0, -1.0, +1.0, -1.0, -1.0, -1.0, -1.0, -1.0, +1.0, -1.0, +1.0, +1.0, -1.0, +1.0, -1.0],
    vertexNormalData = [0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, +1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0],
    vertexIndexData = [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23];

var textureCube = function textureCube(offsetPosition, image, canvas, callback) {
  var textureShader = TextureShader.fromNothing(canvas),
      vertexPositions = divide(vertexPositionData, 3),
      ///
  offsetVertexPositions = vertexPositions.map(function (vertexPosition) {
    var offsetVertexPosition = vec3.add(vertexPosition, offsetPosition);

    return offsetVertexPosition;
  }),
      offsetVertexPositionData = flatten(offsetVertexPositions);

  var vertexPositionBuffer = textureShader.createVertexPositionBuffer(offsetVertexPositionData, canvas);

  textureShader.bindVertexPositionBuffer(vertexPositionBuffer, canvas);

  var textureCoordinateBuffer = textureShader.createTextureCoordinateBuffer(textureCoordinateData, canvas);

  textureShader.bindTextureCoordinateBuffer(textureCoordinateBuffer, canvas);

  var vertexNormalBuffer = textureShader.createVertexNormalBuffer(vertexNormalData, canvas);

  textureShader.bindVertexNormalBuffer(vertexNormalBuffer, canvas);

  textureShader.createTexture(image, canvas);

  var count = canvas.createAndBindElementBuffer(vertexIndexData);

  callback(count, textureShader);
};

module.exports = textureCube;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VzNi9leGFtcGxlcy9pbnRlcm1lZGlhdGUvY3ViZS90ZXh0dXJlLmpzIl0sIm5hbWVzIjpbInZlYzMiLCJyZXF1aXJlIiwiVGV4dHVyZVNoYWRlciIsImFycmF5VXRpbGl0aWVzIiwiZGl2aWRlIiwiZmxhdHRlbiIsInRleHR1cmVDb29yZGluYXRlRGF0YSIsInZlcnRleFBvc2l0aW9uRGF0YSIsInZlcnRleE5vcm1hbERhdGEiLCJ2ZXJ0ZXhJbmRleERhdGEiLCJ0ZXh0dXJlQ3ViZSIsIm9mZnNldFBvc2l0aW9uIiwiaW1hZ2UiLCJjYW52YXMiLCJjYWxsYmFjayIsInRleHR1cmVTaGFkZXIiLCJmcm9tTm90aGluZyIsInZlcnRleFBvc2l0aW9ucyIsIm9mZnNldFZlcnRleFBvc2l0aW9ucyIsIm1hcCIsInZlcnRleFBvc2l0aW9uIiwib2Zmc2V0VmVydGV4UG9zaXRpb24iLCJhZGQiLCJvZmZzZXRWZXJ0ZXhQb3NpdGlvbkRhdGEiLCJ2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciIsImNyZWF0ZVZlcnRleFBvc2l0aW9uQnVmZmVyIiwiYmluZFZlcnRleFBvc2l0aW9uQnVmZmVyIiwidGV4dHVyZUNvb3JkaW5hdGVCdWZmZXIiLCJjcmVhdGVUZXh0dXJlQ29vcmRpbmF0ZUJ1ZmZlciIsImJpbmRUZXh0dXJlQ29vcmRpbmF0ZUJ1ZmZlciIsInZlcnRleE5vcm1hbEJ1ZmZlciIsImNyZWF0ZVZlcnRleE5vcm1hbEJ1ZmZlciIsImJpbmRWZXJ0ZXhOb3JtYWxCdWZmZXIiLCJjcmVhdGVUZXh0dXJlIiwiY291bnQiLCJjcmVhdGVBbmRCaW5kRWxlbWVudEJ1ZmZlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLE9BQU9DLFFBQVEsZUFBUixDQUFiO0FBQUEsSUFDTUMsZ0JBQWdCRCxRQUFRLHlCQUFSLENBRHRCO0FBQUEsSUFFTUUsaUJBQWlCRixRQUFRLDBCQUFSLENBRnZCOztJQUlRRyxNLEdBQW9C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TCxDQUFTRixjQUFULEVBQXlCVCxjQUF6QixDQUE3Qjs7QUFFQSxXQUFPVSxvQkFBUDtBQUNELEdBSnVCLENBRjlCO0FBQUEsTUFPTUUsMkJBQTJCbEIsUUFBUWEscUJBQVIsQ0FQakM7O0FBU0EsTUFBTU0sdUJBQXVCVCxjQUFjVSwwQkFBZCxDQUF5Q0Ysd0JBQXpDLEVBQW1FVixNQUFuRSxDQUE3Qjs7QUFFQUUsZ0JBQWNXLHdCQUFkLENBQXVDRixvQkFBdkMsRUFBNkRYLE1BQTdEOztBQUVBLE1BQU1jLDBCQUEwQlosY0FBY2EsNkJBQWQsQ0FBNEN0QixxQkFBNUMsRUFBbUVPLE1BQW5FLENBQWhDOztBQUVBRSxnQkFBY2MsMkJBQWQsQ0FBMENGLHVCQUExQyxFQUFtRWQsTUFBbkU7O0FBRUEsTUFBTWlCLHFCQUFxQmYsY0FBY2dCLHdCQUFkLENBQXVDdkIsZ0JBQXZDLEVBQXlESyxNQUF6RCxDQUEzQjs7QUFFQUUsZ0JBQWNpQixzQkFBZCxDQUFxQ0Ysa0JBQXJDLEVBQXlEakIsTUFBekQ7O0FBRUFFLGdCQUFja0IsYUFBZCxDQUE0QnJCLEtBQTVCLEVBQW1DQyxNQUFuQzs7QUFFQSxNQUFNcUIsUUFBUXJCLE9BQU9zQiwwQkFBUCxDQUFrQzFCLGVBQWxDLENBQWQ7O0FBRUFLLFdBQVNvQixLQUFULEVBQWdCbkIsYUFBaEI7QUFDRCxDQTNCRDs7QUE2QkFxQixPQUFPQyxPQUFQLEdBQWlCM0IsV0FBakIiLCJmaWxlIjoidGV4dHVyZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdmVjMyA9IHJlcXVpcmUoJy4uLy4uLy4uL3ZlYzMnKSxcbiAgICAgIFRleHR1cmVTaGFkZXIgPSByZXF1aXJlKCcuLi8uLi8uLi9zaGFkZXIvdGV4dHVyZScpLFxuICAgICAgYXJyYXlVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXRpZXMvYXJyYXknKTtcblxuY29uc3QgeyBkaXZpZGUsIGZsYXR0ZW4gfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5jb25zdCB0ZXh0dXJlQ29vcmRpbmF0ZURhdGEgPSBbXG4gICAgICAgIDAuMCwgIDAuMCxcbiAgICAgICAgMS4wLCAgMC4wLFxuICAgICAgICAxLjAsICAxLjAsXG4gICAgICAgIDAuMCwgIDEuMCxcblxuICAgICAgICAwLjAsICAwLjAsXG4gICAgICAgIDEuMCwgIDAuMCxcbiAgICAgICAgMS4wLCAgMS4wLFxuICAgICAgICAwLjAsICAxLjAsXG5cbiAgICAgICAgMC4wLCAgMC4wLFxuICAgICAgICAxLjAsICAwLjAsXG4gICAgICAgIDEuMCwgIDEuMCxcbiAgICAgICAgMC4wLCAgMS4wLFxuXG4gICAgICAgIDAuMCwgIDAuMCxcbiAgICAgICAgMS4wLCAgMC4wLFxuICAgICAgICAxLjAsICAxLjAsXG4gICAgICAgIDAuMCwgIDEuMCxcblxuICAgICAgICAwLjAsICAwLjAsXG4gICAgICAgIDEuMCwgIDAuMCxcbiAgICAgICAgMS4wLCAgMS4wLFxuICAgICAgICAwLjAsICAxLjAsXG5cbiAgICAgICAgMC4wLCAgMC4wLFxuICAgICAgICAxLjAsICAwLjAsXG4gICAgICAgIDEuMCwgIDEuMCxcbiAgICAgICAgMC4wLCAgMS4wXG4gICAgICBdLFxuICAgICAgdmVydGV4UG9zaXRpb25EYXRhID0gW1xuICAgICAgICAtMS4wLCAtMS4wLCArMS4wLFxuICAgICAgICArMS4wLCAtMS4wLCArMS4wLFxuICAgICAgICArMS4wLCArMS4wLCArMS4wLFxuICAgICAgICAtMS4wLCArMS4wLCArMS4wLFxuXG4gICAgICAgIC0xLjAsIC0xLjAsIC0xLjAsXG4gICAgICAgIC0xLjAsICsxLjAsIC0xLjAsXG4gICAgICAgICsxLjAsICsxLjAsIC0xLjAsXG4gICAgICAgICsxLjAsIC0xLjAsIC0xLjAsXG5cbiAgICAgICAgLTEuMCwgKzEuMCwgLTEuMCxcbiAgICAgICAgLTEuMCwgKzEuMCwgKzEuMCxcbiAgICAgICAgKzEuMCwgKzEuMCwgKzEuMCxcbiAgICAgICAgKzEuMCwgKzEuMCwgLTEuMCxcblxuICAgICAgICAtMS4wLCAtMS4wLCAtMS4wLFxuICAgICAgICArMS4wLCAtMS4wLCAtMS4wLFxuICAgICAgICArMS4wLCAtMS4wLCArMS4wLFxuICAgICAgICAtMS4wLCAtMS4wLCArMS4wLFxuXG4gICAgICAgICsxLjAsIC0xLjAsIC0xLjAsXG4gICAgICAgICsxLjAsICsxLjAsIC0xLjAsXG4gICAgICAgICsxLjAsICsxLjAsICsxLjAsXG4gICAgICAgICsxLjAsIC0xLjAsICsxLjAsXG5cbiAgICAgICAgLTEuMCwgLTEuMCwgLTEuMCxcbiAgICAgICAgLTEuMCwgLTEuMCwgKzEuMCxcbiAgICAgICAgLTEuMCwgKzEuMCwgKzEuMCxcbiAgICAgICAgLTEuMCwgKzEuMCwgLTEuMFxuICAgICAgXSxcbiAgICAgIHZlcnRleE5vcm1hbERhdGEgPSBbXG4gICAgICAgIDAuMCwgIDAuMCwgKzEuMCxcbiAgICAgICAgMC4wLCAgMC4wLCArMS4wLFxuICAgICAgICAwLjAsICAwLjAsICsxLjAsXG4gICAgICAgIDAuMCwgIDAuMCwgKzEuMCxcblxuICAgICAgICAwLjAsICAwLjAsIC0xLjAsXG4gICAgICAgIDAuMCwgIDAuMCwgLTEuMCxcbiAgICAgICAgMC4wLCAgMC4wLCAtMS4wLFxuICAgICAgICAwLjAsICAwLjAsIC0xLjAsXG5cbiAgICAgICAgMC4wLCArMS4wLCAgMC4wLFxuICAgICAgICAwLjAsICsxLjAsICAwLjAsXG4gICAgICAgIDAuMCwgKzEuMCwgIDAuMCxcbiAgICAgICAgMC4wLCArMS4wLCAgMC4wLFxuXG4gICAgICAgIDAuMCwgLTEuMCwgIDAuMCxcbiAgICAgICAgMC4wLCAtMS4wLCAgMC4wLFxuICAgICAgICAwLjAsIC0xLjAsICAwLjAsXG4gICAgICAgIDAuMCwgLTEuMCwgIDAuMCxcblxuICAgICAgICArMS4wLCAgMC4wLCAgMC4wLFxuICAgICAgICArMS4wLCAgMC4wLCAgMC4wLFxuICAgICAgICArMS4wLCAgMC4wLCAgMC4wLFxuICAgICAgICArMS4wLCAgMC4wLCAgMC4wLFxuXG4gICAgICAgIC0xLjAsICAwLjAsICAwLjAsXG4gICAgICAgIC0xLjAsICAwLjAsICAwLjAsXG4gICAgICAgIC0xLjAsICAwLjAsICAwLjAsXG4gICAgICAgIC0xLjAsICAwLjAsICAwLjBcbiAgICAgIF0sXG4gICAgICB2ZXJ0ZXhJbmRleERhdGEgPSBbXG4gICAgICAgIDAsICAxLCAgMixcbiAgICAgICAgMCwgIDIsICAzLFxuXG4gICAgICAgIDQsICA1LCAgNixcbiAgICAgICAgNCwgIDYsICA3LFxuXG4gICAgICAgIDgsICA5LCAxMCxcbiAgICAgICAgOCwgMTAsIDExLFxuXG4gICAgICAgIDEyLCAxMywgMTQsXG4gICAgICAgIDEyLCAxNCwgMTUsXG5cbiAgICAgICAgMTYsIDE3LCAxOCxcbiAgICAgICAgMTYsIDE4LCAxOSxcblxuICAgICAgICAyMCwgMjEsIDIyLFxuICAgICAgICAyMCwgMjIsIDIzXG4gICAgICBdO1xuXG5jb25zdCB0ZXh0dXJlQ3ViZSA9IChvZmZzZXRQb3NpdGlvbiwgaW1hZ2UsIGNhbnZhcywgY2FsbGJhY2spID0+IHtcbiAgY29uc3QgdGV4dHVyZVNoYWRlciA9IFRleHR1cmVTaGFkZXIuZnJvbU5vdGhpbmcoY2FudmFzKSxcbiAgICAgICAgdmVydGV4UG9zaXRpb25zID0gZGl2aWRlKHZlcnRleFBvc2l0aW9uRGF0YSwgMyksICAvLy9cbiAgICAgICAgb2Zmc2V0VmVydGV4UG9zaXRpb25zID0gdmVydGV4UG9zaXRpb25zLm1hcChmdW5jdGlvbih2ZXJ0ZXhQb3NpdGlvbikge1xuICAgICAgICAgIGNvbnN0IG9mZnNldFZlcnRleFBvc2l0aW9uID0gdmVjMy5hZGQodmVydGV4UG9zaXRpb24sIG9mZnNldFBvc2l0aW9uKTtcblxuICAgICAgICAgIHJldHVybiBvZmZzZXRWZXJ0ZXhQb3NpdGlvbjtcbiAgICAgICAgfSksXG4gICAgICAgIG9mZnNldFZlcnRleFBvc2l0aW9uRGF0YSA9IGZsYXR0ZW4ob2Zmc2V0VmVydGV4UG9zaXRpb25zKTtcblxuICBjb25zdCB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IHRleHR1cmVTaGFkZXIuY3JlYXRlVmVydGV4UG9zaXRpb25CdWZmZXIob2Zmc2V0VmVydGV4UG9zaXRpb25EYXRhLCBjYW52YXMpO1xuXG4gIHRleHR1cmVTaGFkZXIuYmluZFZlcnRleFBvc2l0aW9uQnVmZmVyKHZlcnRleFBvc2l0aW9uQnVmZmVyLCBjYW52YXMpO1xuXG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlQnVmZmVyID0gdGV4dHVyZVNoYWRlci5jcmVhdGVUZXh0dXJlQ29vcmRpbmF0ZUJ1ZmZlcih0ZXh0dXJlQ29vcmRpbmF0ZURhdGEsIGNhbnZhcyk7XG5cbiAgdGV4dHVyZVNoYWRlci5iaW5kVGV4dHVyZUNvb3JkaW5hdGVCdWZmZXIodGV4dHVyZUNvb3JkaW5hdGVCdWZmZXIsIGNhbnZhcyk7XG5cbiAgY29uc3QgdmVydGV4Tm9ybWFsQnVmZmVyID0gdGV4dHVyZVNoYWRlci5jcmVhdGVWZXJ0ZXhOb3JtYWxCdWZmZXIodmVydGV4Tm9ybWFsRGF0YSwgY2FudmFzKTtcblxuICB0ZXh0dXJlU2hhZGVyLmJpbmRWZXJ0ZXhOb3JtYWxCdWZmZXIodmVydGV4Tm9ybWFsQnVmZmVyLCBjYW52YXMpO1xuXG4gIHRleHR1cmVTaGFkZXIuY3JlYXRlVGV4dHVyZShpbWFnZSwgY2FudmFzKTtcblxuICBjb25zdCBjb3VudCA9IGNhbnZhcy5jcmVhdGVBbmRCaW5kRWxlbWVudEJ1ZmZlcih2ZXJ0ZXhJbmRleERhdGEpO1xuXG4gIGNhbGxiYWNrKGNvdW50LCB0ZXh0dXJlU2hhZGVyKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdGV4dHVyZUN1YmU7XG4iXX0=