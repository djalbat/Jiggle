'use strict';

require('../jiggle');

var Facet = require('../facet'),
    FacetInXYPlane = require('../facetInXYPlane'),
    VerticalLineInXYPlane = require('../verticalLineInXYPlane');

var facets = function facets() {
      var facetVertices = [[0, 0, 0], ///[ 0, 0, 2 ],
      [2, 0, 0], ///[ 1, 0, 1 ],
      [0, 2, 0]],
          maskFacetVertices = [[0, 0, 1], ///[ 0.5, 0, 1 ],
      [1, 0, 0], ///[ 0.5, 0, 2 ],
      [0, 1, 0]],
          facet = Facet.fromVertices(facetVertices),
          maskFacet = Facet.fromVertices(maskFacetVertices),
          facetInXYPlane = FacetInXYPlane.fromFacet(facet);

      var rotationQuaternion = facetInXYPlane.getRotationQuaternion(),
          translation = facetInXYPlane.getTranslation();

      maskFacet.rotate(rotationQuaternion);
      maskFacet.translate(translation);

      var lineInXYPlane = maskFacet.getLineInXYPlane(),
          verticalLineInXYPlane = VerticalLineInXYPlane.fromLineInXYPlane(lineInXYPlane),
          rotationMatrix = verticalLineInXYPlane.getRotationMatrix();

      facetInXYPlane.rotate(rotationMatrix);

      facetInXYPlane.split(verticalLineInXYPlane);
};

module.exports = facets;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9leGFtcGxlcy9mYWNldHMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkZhY2V0IiwiRmFjZXRJblhZUGxhbmUiLCJWZXJ0aWNhbExpbmVJblhZUGxhbmUiLCJmYWNldHMiLCJmYWNldFZlcnRpY2VzIiwibWFza0ZhY2V0VmVydGljZXMiLCJmYWNldCIsImZyb21WZXJ0aWNlcyIsIm1hc2tGYWNldCIsImZhY2V0SW5YWVBsYW5lIiwiZnJvbUZhY2V0Iiwicm90YXRpb25RdWF0ZXJuaW9uIiwiZ2V0Um90YXRpb25RdWF0ZXJuaW9uIiwidHJhbnNsYXRpb24iLCJnZXRUcmFuc2xhdGlvbiIsInJvdGF0ZSIsInRyYW5zbGF0ZSIsImxpbmVJblhZUGxhbmUiLCJnZXRMaW5lSW5YWVBsYW5lIiwidmVydGljYWxMaW5lSW5YWVBsYW5lIiwiZnJvbUxpbmVJblhZUGxhbmUiLCJyb3RhdGlvbk1hdHJpeCIsImdldFJvdGF0aW9uTWF0cml4Iiwic3BsaXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsUUFBUSxXQUFSOztBQUVBLElBQU1DLFFBQVFELFFBQVEsVUFBUixDQUFkO0FBQUEsSUFDTUUsaUJBQWlCRixRQUFRLG1CQUFSLENBRHZCO0FBQUEsSUFFTUcsd0JBQXdCSCxRQUFRLDBCQUFSLENBRjlCOztBQUlBLElBQU1JLFNBQVMsU0FBVEEsTUFBUyxHQUFNO0FBQ25CLFVBQU1DLGdCQUFnQixDQUNkLENBQUUsQ0FBRixFQUFLLENBQUwsRUFBUSxDQUFSLENBRGMsRUFDRDtBQUNiLE9BQUUsQ0FBRixFQUFLLENBQUwsRUFBUSxDQUFSLENBRmMsRUFFRDtBQUNiLE9BQUUsQ0FBRixFQUFLLENBQUwsRUFBUSxDQUFSLENBSGMsQ0FBdEI7QUFBQSxVQUtNQyxvQkFBb0IsQ0FDbEIsQ0FBRSxDQUFGLEVBQUssQ0FBTCxFQUFRLENBQVIsQ0FEa0IsRUFDSjtBQUNkLE9BQUUsQ0FBRixFQUFLLENBQUwsRUFBUSxDQUFSLENBRmtCLEVBRUo7QUFDZCxPQUFFLENBQUYsRUFBSyxDQUFMLEVBQVEsQ0FBUixDQUhrQixDQUwxQjtBQUFBLFVBVU1DLFFBQVFOLE1BQU1PLFlBQU4sQ0FBbUJILGFBQW5CLENBVmQ7QUFBQSxVQVdNSSxZQUFZUixNQUFNTyxZQUFOLENBQW1CRixpQkFBbkIsQ0FYbEI7QUFBQSxVQVlNSSxpQkFBaUJSLGVBQWVTLFNBQWYsQ0FBeUJKLEtBQXpCLENBWnZCOztBQWNBLFVBQU1LLHFCQUFxQkYsZUFBZUcscUJBQWYsRUFBM0I7QUFBQSxVQUNNQyxjQUFjSixlQUFlSyxjQUFmLEVBRHBCOztBQUdBTixnQkFBVU8sTUFBVixDQUFpQkosa0JBQWpCO0FBQ0FILGdCQUFVUSxTQUFWLENBQW9CSCxXQUFwQjs7QUFFQSxVQUFNSSxnQkFBZ0JULFVBQVVVLGdCQUFWLEVBQXRCO0FBQUEsVUFDTUMsd0JBQXdCakIsc0JBQXNCa0IsaUJBQXRCLENBQXdDSCxhQUF4QyxDQUQ5QjtBQUFBLFVBRU1JLGlCQUFpQkYsc0JBQXNCRyxpQkFBdEIsRUFGdkI7O0FBSUFiLHFCQUFlTSxNQUFmLENBQXNCTSxjQUF0Qjs7QUFFQVoscUJBQWVjLEtBQWYsQ0FBcUJKLHFCQUFyQjtBQUVELENBN0JEOztBQStCQUssT0FBT0MsT0FBUCxHQUFpQnRCLE1BQWpCIiwiZmlsZSI6ImZhY2V0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vamlnZ2xlJyk7XG5cbmNvbnN0IEZhY2V0ID0gcmVxdWlyZSgnLi4vZmFjZXQnKSxcbiAgICAgIEZhY2V0SW5YWVBsYW5lID0gcmVxdWlyZSgnLi4vZmFjZXRJblhZUGxhbmUnKSxcbiAgICAgIFZlcnRpY2FsTGluZUluWFlQbGFuZSA9IHJlcXVpcmUoJy4uL3ZlcnRpY2FsTGluZUluWFlQbGFuZScpO1xuXG5jb25zdCBmYWNldHMgPSAoKSA9PiB7XG4gIGNvbnN0IGZhY2V0VmVydGljZXMgPSBbXG4gICAgICAgICAgWyAwLCAwLCAwIF0sIC8vL1sgMCwgMCwgMiBdLFxuICAgICAgICAgIFsgMiwgMCwgMCBdLCAvLy9bIDEsIDAsIDEgXSxcbiAgICAgICAgICBbIDAsIDIsIDAgXSwgLy8vWyAwLCAxLCAxIF0sXG4gICAgICAgIF0sXG4gICAgICAgIG1hc2tGYWNldFZlcnRpY2VzID0gW1xuICAgICAgICAgIFsgMCwgMCwgMSBdLCAgLy8vWyAwLjUsIDAsIDEgXSxcbiAgICAgICAgICBbIDEsIDAsIDAgXSwgIC8vL1sgMC41LCAwLCAyIF0sXG4gICAgICAgICAgWyAwLCAxLCAwIF0sICAvLy9bIDAuNSwgMSwgMSBdLFxuICAgICAgICBdLFxuICAgICAgICBmYWNldCA9IEZhY2V0LmZyb21WZXJ0aWNlcyhmYWNldFZlcnRpY2VzKSxcbiAgICAgICAgbWFza0ZhY2V0ID0gRmFjZXQuZnJvbVZlcnRpY2VzKG1hc2tGYWNldFZlcnRpY2VzKSxcbiAgICAgICAgZmFjZXRJblhZUGxhbmUgPSBGYWNldEluWFlQbGFuZS5mcm9tRmFjZXQoZmFjZXQpO1xuXG4gIGNvbnN0IHJvdGF0aW9uUXVhdGVybmlvbiA9IGZhY2V0SW5YWVBsYW5lLmdldFJvdGF0aW9uUXVhdGVybmlvbigpLFxuICAgICAgICB0cmFuc2xhdGlvbiA9IGZhY2V0SW5YWVBsYW5lLmdldFRyYW5zbGF0aW9uKCk7XG5cbiAgbWFza0ZhY2V0LnJvdGF0ZShyb3RhdGlvblF1YXRlcm5pb24pO1xuICBtYXNrRmFjZXQudHJhbnNsYXRlKHRyYW5zbGF0aW9uKTtcblxuICBjb25zdCBsaW5lSW5YWVBsYW5lID0gbWFza0ZhY2V0LmdldExpbmVJblhZUGxhbmUoKSxcbiAgICAgICAgdmVydGljYWxMaW5lSW5YWVBsYW5lID0gVmVydGljYWxMaW5lSW5YWVBsYW5lLmZyb21MaW5lSW5YWVBsYW5lKGxpbmVJblhZUGxhbmUpLFxuICAgICAgICByb3RhdGlvbk1hdHJpeCA9IHZlcnRpY2FsTGluZUluWFlQbGFuZS5nZXRSb3RhdGlvbk1hdHJpeCgpO1xuXG4gIGZhY2V0SW5YWVBsYW5lLnJvdGF0ZShyb3RhdGlvbk1hdHJpeCk7XG5cbiAgZmFjZXRJblhZUGxhbmUuc3BsaXQodmVydGljYWxMaW5lSW5YWVBsYW5lKTtcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmYWNldHM7XG4iXX0=