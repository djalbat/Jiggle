"use strict";

var Element = require("./element"),
    arrayUtilities = require("./utilities/array"),
    FunctionCanvasElement = require("./element/canvas/function");

var flatten = arrayUtilities.flatten,
    guarantee = arrayUtilities.guarantee;

function createElement(firstArgument, properties) {
  for (var _len = arguments.length, childElements = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    childElements[_key - 2] = arguments[_key];
  }

  properties = properties || {}; ///

  childElements = flatten(childElements); ///

  var element;

  if (isSubclassOf(firstArgument, Element)) {
    var Class = firstArgument; ///

    Object.assign(properties, {
      childElements: childElements
    });
    element = Class.fromProperties(properties);
  } else if (typeof firstArgument === "function") {
    var func = firstArgument,
        ///
    _childElements = guarantee(func(properties));

    Object.assign(properties, {
      childElements: _childElements
    });
    element = FunctionCanvasElement.fromProperties(properties);
  }

  return element;
}

var React = {
  createElement: createElement
};
module.exports = React;

function isSubclassOf(argument, Class) {
  var typeOf = false;

  if (argument.name === Class.name) {
    ///
    typeOf = true;
  } else {
    argument = Object.getPrototypeOf(argument); ///

    if (argument) {
      typeOf = isSubclassOf(argument, Class);
    }
  }

  return typeOf;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlYWN0LmpzIl0sIm5hbWVzIjpbIkVsZW1lbnQiLCJyZXF1aXJlIiwiYXJyYXlVdGlsaXRpZXMiLCJGdW5jdGlvbkNhbnZhc0VsZW1lbnQiLCJmbGF0dGVuIiwiZ3VhcmFudGVlIiwiY3JlYXRlRWxlbWVudCIsImZpcnN0QXJndW1lbnQiLCJwcm9wZXJ0aWVzIiwiY2hpbGRFbGVtZW50cyIsImVsZW1lbnQiLCJpc1N1YmNsYXNzT2YiLCJDbGFzcyIsIk9iamVjdCIsImFzc2lnbiIsImZyb21Qcm9wZXJ0aWVzIiwiZnVuYyIsIlJlYWN0IiwibW9kdWxlIiwiZXhwb3J0cyIsImFyZ3VtZW50IiwidHlwZU9mIiwibmFtZSIsImdldFByb3RvdHlwZU9mIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXZCO0FBQUEsSUFDTUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsbUJBQUQsQ0FEOUI7QUFBQSxJQUVNRSxxQkFBcUIsR0FBR0YsT0FBTyxDQUFDLDJCQUFELENBRnJDOztJQUlRRyxPLEdBQXVCRixjLENBQXZCRSxPO0lBQVNDLFMsR0FBY0gsYyxDQUFkRyxTOztBQUVqQixTQUFTQyxhQUFULENBQXVCQyxhQUF2QixFQUFzQ0MsVUFBdEMsRUFBb0U7QUFBQSxvQ0FBZkMsYUFBZTtBQUFmQSxJQUFBQSxhQUFlO0FBQUE7O0FBQ2xFRCxFQUFBQSxVQUFVLEdBQUdBLFVBQVUsSUFBSSxFQUEzQixDQURrRSxDQUNsQzs7QUFFaENDLEVBQUFBLGFBQWEsR0FBR0wsT0FBTyxDQUFDSyxhQUFELENBQXZCLENBSGtFLENBRzFCOztBQUV4QyxNQUFJQyxPQUFKOztBQUVBLE1BQUlDLFlBQVksQ0FBQ0osYUFBRCxFQUFnQlAsT0FBaEIsQ0FBaEIsRUFBMEM7QUFDeEMsUUFBTVksS0FBSyxHQUFHTCxhQUFkLENBRHdDLENBQ1Y7O0FBRTlCTSxJQUFBQSxNQUFNLENBQUNDLE1BQVAsQ0FBY04sVUFBZCxFQUEwQjtBQUN4QkMsTUFBQUEsYUFBYSxFQUFiQTtBQUR3QixLQUExQjtBQUlBQyxJQUFBQSxPQUFPLEdBQUdFLEtBQUssQ0FBQ0csY0FBTixDQUFxQlAsVUFBckIsQ0FBVjtBQUNELEdBUkQsTUFRTyxJQUFJLE9BQU9ELGFBQVAsS0FBeUIsVUFBN0IsRUFBeUM7QUFDOUMsUUFBTVMsSUFBSSxHQUFHVCxhQUFiO0FBQUEsUUFBNkI7QUFDdkJFLElBQUFBLGNBQWEsR0FBR0osU0FBUyxDQUFDVyxJQUFJLENBQUNSLFVBQUQsQ0FBTCxDQUQvQjs7QUFHQUssSUFBQUEsTUFBTSxDQUFDQyxNQUFQLENBQWNOLFVBQWQsRUFBMEI7QUFDeEJDLE1BQUFBLGFBQWEsRUFBYkE7QUFEd0IsS0FBMUI7QUFJQUMsSUFBQUEsT0FBTyxHQUFHUCxxQkFBcUIsQ0FBQ1ksY0FBdEIsQ0FBcUNQLFVBQXJDLENBQVY7QUFDRDs7QUFFRCxTQUFPRSxPQUFQO0FBQ0Q7O0FBRUQsSUFBTU8sS0FBSyxHQUFHO0FBQ1pYLEVBQUFBLGFBQWEsRUFBRUE7QUFESCxDQUFkO0FBSUFZLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkYsS0FBakI7O0FBRUEsU0FBU04sWUFBVCxDQUFzQlMsUUFBdEIsRUFBZ0NSLEtBQWhDLEVBQXVDO0FBQ3JDLE1BQUlTLE1BQU0sR0FBRyxLQUFiOztBQUVBLE1BQUlELFFBQVEsQ0FBQ0UsSUFBVCxLQUFrQlYsS0FBSyxDQUFDVSxJQUE1QixFQUFrQztBQUFFO0FBQ2xDRCxJQUFBQSxNQUFNLEdBQUcsSUFBVDtBQUNELEdBRkQsTUFFTztBQUNMRCxJQUFBQSxRQUFRLEdBQUdQLE1BQU0sQ0FBQ1UsY0FBUCxDQUFzQkgsUUFBdEIsQ0FBWCxDQURLLENBQ3VDOztBQUU1QyxRQUFJQSxRQUFKLEVBQWM7QUFDWkMsTUFBQUEsTUFBTSxHQUFHVixZQUFZLENBQUNTLFFBQUQsRUFBV1IsS0FBWCxDQUFyQjtBQUNEO0FBQ0Y7O0FBRUQsU0FBT1MsTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IEVsZW1lbnQgPSByZXF1aXJlKFwiLi9lbGVtZW50XCIpLFxuICAgICAgYXJyYXlVdGlsaXRpZXMgPSByZXF1aXJlKFwiLi91dGlsaXRpZXMvYXJyYXlcIiksXG4gICAgICBGdW5jdGlvbkNhbnZhc0VsZW1lbnQgPSByZXF1aXJlKFwiLi9lbGVtZW50L2NhbnZhcy9mdW5jdGlvblwiKTtcblxuY29uc3QgeyBmbGF0dGVuLCBndWFyYW50ZWUgfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KGZpcnN0QXJndW1lbnQsIHByb3BlcnRpZXMsIC4uLmNoaWxkRWxlbWVudHMpIHtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307ICAvLy9cblxuICBjaGlsZEVsZW1lbnRzID0gZmxhdHRlbihjaGlsZEVsZW1lbnRzKTsgLy8vXG5cbiAgbGV0IGVsZW1lbnQ7XG5cbiAgaWYgKGlzU3ViY2xhc3NPZihmaXJzdEFyZ3VtZW50LCBFbGVtZW50KSkge1xuICAgIGNvbnN0IENsYXNzID0gZmlyc3RBcmd1bWVudDsgIC8vL1xuXG4gICAgT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCB7XG4gICAgICBjaGlsZEVsZW1lbnRzXG4gICAgfSk7XG5cbiAgICBlbGVtZW50ID0gQ2xhc3MuZnJvbVByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0QXJndW1lbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IGZ1bmMgPSBmaXJzdEFyZ3VtZW50LCAgLy8vXG4gICAgICAgICAgY2hpbGRFbGVtZW50cyA9IGd1YXJhbnRlZShmdW5jKHByb3BlcnRpZXMpKTtcblxuICAgIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywge1xuICAgICAgY2hpbGRFbGVtZW50c1xuICAgIH0pO1xuXG4gICAgZWxlbWVudCA9IEZ1bmN0aW9uQ2FudmFzRWxlbWVudC5mcm9tUHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5jb25zdCBSZWFjdCA9IHtcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcblxuZnVuY3Rpb24gaXNTdWJjbGFzc09mKGFyZ3VtZW50LCBDbGFzcykge1xuICBsZXQgdHlwZU9mID0gZmFsc2U7XG5cbiAgaWYgKGFyZ3VtZW50Lm5hbWUgPT09IENsYXNzLm5hbWUpIHsgLy8vXG4gICAgdHlwZU9mID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBhcmd1bWVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihhcmd1bWVudCk7IC8vL1xuXG4gICAgaWYgKGFyZ3VtZW50KSB7XG4gICAgICB0eXBlT2YgPSBpc1N1YmNsYXNzT2YoYXJndW1lbnQsIENsYXNzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHlwZU9mO1xufVxuIl19