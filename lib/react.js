'use strict';

var Element = require('./element'),
    arrayUtilities = require('./utilities/array'),
    FunctionCanvasElement = require('./element/canvas/function');

var flatten = arrayUtilities.flatten,
    guarantee = arrayUtilities.guarantee;

function createElement(firstArgument, properties) {
  for (var _len = arguments.length, childElements = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    childElements[_key - 2] = arguments[_key];
  }

  properties = properties || {}; ///

  childElements = flatten(childElements); ///

  var element;

  if (isSubclassOf(firstArgument, Element)) {
    var Class = firstArgument; ///

    Object.assign(properties, {
      childElements: childElements
    });
    element = Class.fromProperties(properties);
  } else if (typeof firstArgument === 'function') {
    var func = firstArgument,
        ///
    _childElements = guarantee(func(properties));

    Object.assign(properties, {
      childElements: _childElements
    });
    element = FunctionCanvasElement.fromProperties(properties);
  }

  return element;
}

var React = {
  createElement: createElement
};
module.exports = React;

function isSubclassOf(argument, Class) {
  var typeOf = false;

  if (argument.name === Class.name) {
    ///
    typeOf = true;
  } else {
    argument = Object.getPrototypeOf(argument); ///

    if (argument) {
      typeOf = isSubclassOf(argument, Class);
    }
  }

  return typeOf;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlYWN0LmpzIl0sIm5hbWVzIjpbIkVsZW1lbnQiLCJyZXF1aXJlIiwiYXJyYXlVdGlsaXRpZXMiLCJGdW5jdGlvbkNhbnZhc0VsZW1lbnQiLCJmbGF0dGVuIiwiZ3VhcmFudGVlIiwiY3JlYXRlRWxlbWVudCIsImZpcnN0QXJndW1lbnQiLCJwcm9wZXJ0aWVzIiwiY2hpbGRFbGVtZW50cyIsImVsZW1lbnQiLCJpc1N1YmNsYXNzT2YiLCJDbGFzcyIsIk9iamVjdCIsImFzc2lnbiIsImZyb21Qcm9wZXJ0aWVzIiwiZnVuYyIsIlJlYWN0IiwibW9kdWxlIiwiZXhwb3J0cyIsImFyZ3VtZW50IiwidHlwZU9mIiwibmFtZSIsImdldFByb3RvdHlwZU9mIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXZCO0FBQUEsSUFDTUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsbUJBQUQsQ0FEOUI7QUFBQSxJQUVNRSxxQkFBcUIsR0FBR0YsT0FBTyxDQUFDLDJCQUFELENBRnJDOztJQUlRRyxPLEdBQXVCRixjLENBQXZCRSxPO0lBQVNDLFMsR0FBY0gsYyxDQUFkRyxTOztBQUVqQixTQUFTQyxhQUFULENBQXVCQyxhQUF2QixFQUFzQ0MsVUFBdEMsRUFBb0U7QUFBQSxvQ0FBZkMsYUFBZTtBQUFmQSxJQUFBQSxhQUFlO0FBQUE7O0FBQ2xFRCxFQUFBQSxVQUFVLEdBQUdBLFVBQVUsSUFBSSxFQUEzQixDQURrRSxDQUNsQzs7QUFFaENDLEVBQUFBLGFBQWEsR0FBR0wsT0FBTyxDQUFDSyxhQUFELENBQXZCLENBSGtFLENBRzFCOztBQUV4QyxNQUFJQyxPQUFKOztBQUVBLE1BQUlDLFlBQVksQ0FBQ0osYUFBRCxFQUFnQlAsT0FBaEIsQ0FBaEIsRUFBMEM7QUFDeEMsUUFBTVksS0FBSyxHQUFHTCxhQUFkLENBRHdDLENBQ1Y7O0FBRTlCTSxJQUFBQSxNQUFNLENBQUNDLE1BQVAsQ0FBY04sVUFBZCxFQUEwQjtBQUN4QkMsTUFBQUEsYUFBYSxFQUFiQTtBQUR3QixLQUExQjtBQUlBQyxJQUFBQSxPQUFPLEdBQUdFLEtBQUssQ0FBQ0csY0FBTixDQUFxQlAsVUFBckIsQ0FBVjtBQUNELEdBUkQsTUFRTyxJQUFJLE9BQU9ELGFBQVAsS0FBeUIsVUFBN0IsRUFBeUM7QUFDOUMsUUFBTVMsSUFBSSxHQUFHVCxhQUFiO0FBQUEsUUFBNkI7QUFDdkJFLElBQUFBLGNBQWEsR0FBR0osU0FBUyxDQUFDVyxJQUFJLENBQUNSLFVBQUQsQ0FBTCxDQUQvQjs7QUFHQUssSUFBQUEsTUFBTSxDQUFDQyxNQUFQLENBQWNOLFVBQWQsRUFBMEI7QUFDeEJDLE1BQUFBLGFBQWEsRUFBYkE7QUFEd0IsS0FBMUI7QUFJQUMsSUFBQUEsT0FBTyxHQUFHUCxxQkFBcUIsQ0FBQ1ksY0FBdEIsQ0FBcUNQLFVBQXJDLENBQVY7QUFDRDs7QUFFRCxTQUFPRSxPQUFQO0FBQ0Q7O0FBRUQsSUFBTU8sS0FBSyxHQUFHO0FBQ1pYLEVBQUFBLGFBQWEsRUFBRUE7QUFESCxDQUFkO0FBSUFZLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkYsS0FBakI7O0FBRUEsU0FBU04sWUFBVCxDQUFzQlMsUUFBdEIsRUFBZ0NSLEtBQWhDLEVBQXVDO0FBQ3JDLE1BQUlTLE1BQU0sR0FBRyxLQUFiOztBQUVBLE1BQUlELFFBQVEsQ0FBQ0UsSUFBVCxLQUFrQlYsS0FBSyxDQUFDVSxJQUE1QixFQUFrQztBQUFFO0FBQ2xDRCxJQUFBQSxNQUFNLEdBQUcsSUFBVDtBQUNELEdBRkQsTUFFTztBQUNMRCxJQUFBQSxRQUFRLEdBQUdQLE1BQU0sQ0FBQ1UsY0FBUCxDQUFzQkgsUUFBdEIsQ0FBWCxDQURLLENBQ3VDOztBQUU1QyxRQUFJQSxRQUFKLEVBQWM7QUFDWkMsTUFBQUEsTUFBTSxHQUFHVixZQUFZLENBQUNTLFFBQUQsRUFBV1IsS0FBWCxDQUFyQjtBQUNEO0FBQ0Y7O0FBRUQsU0FBT1MsTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFbGVtZW50ID0gcmVxdWlyZSgnLi9lbGVtZW50JyksXG4gICAgICBhcnJheVV0aWxpdGllcyA9IHJlcXVpcmUoJy4vdXRpbGl0aWVzL2FycmF5JyksXG4gICAgICBGdW5jdGlvbkNhbnZhc0VsZW1lbnQgPSByZXF1aXJlKCcuL2VsZW1lbnQvY2FudmFzL2Z1bmN0aW9uJyk7XG5cbmNvbnN0IHsgZmxhdHRlbiwgZ3VhcmFudGVlIH0gPSBhcnJheVV0aWxpdGllcztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudChmaXJzdEFyZ3VtZW50LCBwcm9wZXJ0aWVzLCAuLi5jaGlsZEVsZW1lbnRzKSB7XG4gIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9OyAgLy8vXG5cbiAgY2hpbGRFbGVtZW50cyA9IGZsYXR0ZW4oY2hpbGRFbGVtZW50cyk7IC8vL1xuXG4gIGxldCBlbGVtZW50O1xuXG4gIGlmIChpc1N1YmNsYXNzT2YoZmlyc3RBcmd1bWVudCwgRWxlbWVudCkpIHtcbiAgICBjb25zdCBDbGFzcyA9IGZpcnN0QXJndW1lbnQ7ICAvLy9cblxuICAgIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywge1xuICAgICAgY2hpbGRFbGVtZW50c1xuICAgIH0pO1xuXG4gICAgZWxlbWVudCA9IENsYXNzLmZyb21Qcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmaXJzdEFyZ3VtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgZnVuYyA9IGZpcnN0QXJndW1lbnQsICAvLy9cbiAgICAgICAgICBjaGlsZEVsZW1lbnRzID0gZ3VhcmFudGVlKGZ1bmMocHJvcGVydGllcykpO1xuXG4gICAgT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCB7XG4gICAgICBjaGlsZEVsZW1lbnRzXG4gICAgfSk7XG5cbiAgICBlbGVtZW50ID0gRnVuY3Rpb25DYW52YXNFbGVtZW50LmZyb21Qcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmNvbnN0IFJlYWN0ID0ge1xuICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuXG5mdW5jdGlvbiBpc1N1YmNsYXNzT2YoYXJndW1lbnQsIENsYXNzKSB7XG4gIGxldCB0eXBlT2YgPSBmYWxzZTtcblxuICBpZiAoYXJndW1lbnQubmFtZSA9PT0gQ2xhc3MubmFtZSkgeyAvLy9cbiAgICB0eXBlT2YgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGFyZ3VtZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGFyZ3VtZW50KTsgLy8vXG5cbiAgICBpZiAoYXJndW1lbnQpIHtcbiAgICAgIHR5cGVPZiA9IGlzU3ViY2xhc3NPZihhcmd1bWVudCwgQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0eXBlT2Y7XG59XG4iXX0=