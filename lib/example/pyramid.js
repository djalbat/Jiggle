'use strict';

var xgl = require('../../index'); ///

var Pyramid = require('./element/pyramid'),
    configuration = require('../miscellaneous/configuration');

var Canvas = xgl.Canvas,
    Scene = xgl.Scene,
    Part = xgl.Part,
    Camera = xgl.Camera;


var canvas = new Canvas();

var pyramidExample = function pyramidExample() {
  preloadImageMap(function (imageMap) {
    var imageMapJSON = configuration.imageMapJSON;


    return React.createElement(
      Scene,
      { canvas: canvas, update: update, done: done },
      React.createElement(
        Part,
        { imageMap: imageMap, imageMapJSON: imageMapJSON },
        React.createElement(Pyramid, { hidden: true })
      ),
      React.createElement(Camera, null)
    );
  });
};

module.exports = pyramidExample;

function preloadImageMap(callback) {
  var imageMapURI = configuration.imageMapURI,
      imageMap = new Image(),
      src = imageMapURI; ///

  Object.assign(imageMap, {
    src: src,
    onload: onload
  });

  function onload(event) {
    callback(imageMap);
  }
}

function update(progress) {
  console.log(progress);
}

function done() {
  console.log('Done.');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9leGFtcGxlL3B5cmFtaWQuanMiXSwibmFtZXMiOlsieGdsIiwicmVxdWlyZSIsIlB5cmFtaWQiLCJjb25maWd1cmF0aW9uIiwiQ2FudmFzIiwiU2NlbmUiLCJQYXJ0IiwiQ2FtZXJhIiwiY2FudmFzIiwicHlyYW1pZEV4YW1wbGUiLCJwcmVsb2FkSW1hZ2VNYXAiLCJpbWFnZU1hcCIsImltYWdlTWFwSlNPTiIsInVwZGF0ZSIsImRvbmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2FsbGJhY2siLCJpbWFnZU1hcFVSSSIsIkltYWdlIiwic3JjIiwiT2JqZWN0IiwiYXNzaWduIiwib25sb2FkIiwiZXZlbnQiLCJwcm9ncmVzcyIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLE1BQU1DLFFBQVEsYUFBUixDQUFaLEMsQ0FBb0M7O0FBRXBDLElBQU1DLFVBQVVELFFBQVEsbUJBQVIsQ0FBaEI7QUFBQSxJQUNNRSxnQkFBZ0JGLFFBQVEsZ0NBQVIsQ0FEdEI7O0lBR1FHLE0sR0FBZ0NKLEcsQ0FBaENJLE07SUFBUUMsSyxHQUF3QkwsRyxDQUF4QkssSztJQUFPQyxJLEdBQWlCTixHLENBQWpCTSxJO0lBQU1DLE0sR0FBV1AsRyxDQUFYTyxNOzs7QUFFN0IsSUFBTUMsU0FBUyxJQUFJSixNQUFKLEVBQWY7O0FBRUEsSUFBTUssaUJBQWlCLFNBQWpCQSxjQUFpQixHQUFNO0FBQzNCQyxrQkFBZ0IsVUFBQ0MsUUFBRCxFQUFjO0FBQUEsUUFDcEJDLFlBRG9CLEdBQ0hULGFBREcsQ0FDcEJTLFlBRG9COzs7QUFHNUIsV0FFRTtBQUFDLFdBQUQ7QUFBQSxRQUFPLFFBQVFKLE1BQWYsRUFBdUIsUUFBUUssTUFBL0IsRUFBdUMsTUFBTUMsSUFBN0M7QUFDRTtBQUFDLFlBQUQ7QUFBQSxVQUFNLFVBQVVILFFBQWhCLEVBQTBCLGNBQWNDLFlBQXhDO0FBQ0UsNEJBQUMsT0FBRCxJQUFTLFlBQVQ7QUFERixPQURGO0FBSUUsMEJBQUMsTUFBRDtBQUpGLEtBRkY7QUFVRCxHQWJEO0FBY0QsQ0FmRDs7QUFpQkFHLE9BQU9DLE9BQVAsR0FBaUJQLGNBQWpCOztBQUVBLFNBQVNDLGVBQVQsQ0FBeUJPLFFBQXpCLEVBQW1DO0FBQzNCLE1BQUVDLFdBQUYsR0FBa0JmLGFBQWxCLENBQUVlLFdBQUY7QUFBQSxNQUNBUCxRQURBLEdBQ1csSUFBSVEsS0FBSixFQURYO0FBQUEsTUFFQUMsR0FGQSxHQUVNRixXQUZOLENBRDJCLENBR1A7O0FBRTFCRyxTQUFPQyxNQUFQLENBQWNYLFFBQWQsRUFBd0I7QUFDdEJTLFlBRHNCO0FBRXRCRztBQUZzQixHQUF4Qjs7QUFLQSxXQUFTQSxNQUFULENBQWdCQyxLQUFoQixFQUF1QjtBQUNyQlAsYUFBU04sUUFBVDtBQUNEO0FBQ0Y7O0FBRUQsU0FBU0UsTUFBVCxDQUFnQlksUUFBaEIsRUFBMEI7QUFDeEJDLFVBQVFDLEdBQVIsQ0FBWUYsUUFBWjtBQUNEOztBQUVELFNBQVNYLElBQVQsR0FBZ0I7QUFDZFksVUFBUUMsR0FBUixDQUFZLE9BQVo7QUFDRCIsImZpbGUiOiJweXJhbWlkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB4Z2wgPSByZXF1aXJlKCcuLi8uLi9pbmRleCcpOyAvLy9cblxuY29uc3QgUHlyYW1pZCA9IHJlcXVpcmUoJy4vZWxlbWVudC9weXJhbWlkJyksXG4gICAgICBjb25maWd1cmF0aW9uID0gcmVxdWlyZSgnLi4vbWlzY2VsbGFuZW91cy9jb25maWd1cmF0aW9uJyk7XG5cbmNvbnN0IHsgQ2FudmFzLCBTY2VuZSwgUGFydCwgQ2FtZXJhIH0gPSB4Z2w7XG5cbmNvbnN0IGNhbnZhcyA9IG5ldyBDYW52YXMoKTtcblxuY29uc3QgcHlyYW1pZEV4YW1wbGUgPSAoKSA9PiB7XG4gIHByZWxvYWRJbWFnZU1hcCgoaW1hZ2VNYXApID0+IHtcbiAgICBjb25zdCB7IGltYWdlTWFwSlNPTiB9ID0gY29uZmlndXJhdGlvbjtcblxuICAgIHJldHVybiAoXG5cbiAgICAgIDxTY2VuZSBjYW52YXM9e2NhbnZhc30gdXBkYXRlPXt1cGRhdGV9IGRvbmU9e2RvbmV9PlxuICAgICAgICA8UGFydCBpbWFnZU1hcD17aW1hZ2VNYXB9IGltYWdlTWFwSlNPTj17aW1hZ2VNYXBKU09OfT5cbiAgICAgICAgICA8UHlyYW1pZCBoaWRkZW4gLz5cbiAgICAgICAgPC9QYXJ0PlxuICAgICAgICA8Q2FtZXJhIC8+XG4gICAgICA8L1NjZW5lPlxuXG4gICAgKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHB5cmFtaWRFeGFtcGxlO1xuXG5mdW5jdGlvbiBwcmVsb2FkSW1hZ2VNYXAoY2FsbGJhY2spIHtcbiAgY29uc3QgeyBpbWFnZU1hcFVSSSB9ID0gY29uZmlndXJhdGlvbixcbiAgICAgICAgaW1hZ2VNYXAgPSBuZXcgSW1hZ2UoKSxcdC8vL1xuICAgICAgICBzcmMgPSBpbWFnZU1hcFVSSTsgIC8vL1xuXG4gIE9iamVjdC5hc3NpZ24oaW1hZ2VNYXAsIHtcbiAgICBzcmMsXG4gICAgb25sb2FkXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIG9ubG9hZChldmVudCkge1xuICAgIGNhbGxiYWNrKGltYWdlTWFwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGUocHJvZ3Jlc3MpIHtcbiAgY29uc29sZS5sb2cocHJvZ3Jlc3MpO1xufVxuXG5mdW5jdGlvbiBkb25lKCkge1xuICBjb25zb2xlLmxvZygnRG9uZS4nKTtcbn1cbiJdfQ==