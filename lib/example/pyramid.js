'use strict';

var xgl = require('../../index'); ///

var Pyramid = require('./element/pyramid'),
    configuration = require('../miscellaneous/configuration');

var Canvas = xgl.Canvas,
    Scene = xgl.Scene,
    Part = xgl.Part,
    Camera = xgl.Camera;


var canvas = new Canvas();

var pyramidExample = function pyramidExample() {
  preloadImageMap(function (imageMap) {
    var imageMapJSON = configuration.imageMapJSON;


    return React.createElement(
      Scene,
      { canvas: canvas, update: update, done: done },
      React.createElement(
        Part,
        { imageMap: imageMap, imageMapJSON: imageMapJSON },
        React.createElement(Pyramid, null)
      ),
      React.createElement(Camera, null)
    );
  });
};

module.exports = pyramidExample;

function preloadImageMap(callback) {
  var imageMapURI = configuration.imageMapURI,
      imageMap = new Image(),
      src = imageMapURI; ///

  Object.assign(imageMap, {
    src: src,
    onload: onload
  });

  function onload(event) {
    callback(imageMap);
  }
}

function update(progress) {
  console.log(progress);
}

function done() {
  console.log('Done!');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9leGFtcGxlL3B5cmFtaWQuanMiXSwibmFtZXMiOlsieGdsIiwicmVxdWlyZSIsIlB5cmFtaWQiLCJjb25maWd1cmF0aW9uIiwiQ2FudmFzIiwiU2NlbmUiLCJQYXJ0IiwiQ2FtZXJhIiwiY2FudmFzIiwicHlyYW1pZEV4YW1wbGUiLCJwcmVsb2FkSW1hZ2VNYXAiLCJpbWFnZU1hcCIsImltYWdlTWFwSlNPTiIsInVwZGF0ZSIsImRvbmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2FsbGJhY2siLCJpbWFnZU1hcFVSSSIsIkltYWdlIiwic3JjIiwiT2JqZWN0IiwiYXNzaWduIiwib25sb2FkIiwiZXZlbnQiLCJwcm9ncmVzcyIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLE1BQU1DLFFBQVEsYUFBUixDQUFaLEMsQ0FBb0M7O0FBRXBDLElBQU1DLFVBQVVELFFBQVEsbUJBQVIsQ0FBaEI7QUFBQSxJQUNNRSxnQkFBZ0JGLFFBQVEsZ0NBQVIsQ0FEdEI7O0lBR1FHLE0sR0FBZ0NKLEcsQ0FBaENJLE07SUFBUUMsSyxHQUF3QkwsRyxDQUF4QkssSztJQUFPQyxJLEdBQWlCTixHLENBQWpCTSxJO0lBQU1DLE0sR0FBV1AsRyxDQUFYTyxNOzs7QUFFN0IsSUFBTUMsU0FBUyxJQUFJSixNQUFKLEVBQWY7O0FBRUEsSUFBTUssaUJBQWlCLFNBQWpCQSxjQUFpQixHQUFNO0FBQzNCQyxrQkFBZ0IsVUFBQ0MsUUFBRCxFQUFjO0FBQUEsUUFDcEJDLFlBRG9CLEdBQ0hULGFBREcsQ0FDcEJTLFlBRG9COzs7QUFHNUIsV0FFRTtBQUFDLFdBQUQ7QUFBQSxRQUFPLFFBQVFKLE1BQWYsRUFBdUIsUUFBUUssTUFBL0IsRUFBdUMsTUFBTUMsSUFBN0M7QUFDRTtBQUFDLFlBQUQ7QUFBQSxVQUFNLFVBQVVILFFBQWhCLEVBQTBCLGNBQWNDLFlBQXhDO0FBQ0UsNEJBQUMsT0FBRDtBQURGLE9BREY7QUFJRSwwQkFBQyxNQUFEO0FBSkYsS0FGRjtBQVVELEdBYkQ7QUFjRCxDQWZEOztBQWlCQUcsT0FBT0MsT0FBUCxHQUFpQlAsY0FBakI7O0FBRUEsU0FBU0MsZUFBVCxDQUF5Qk8sUUFBekIsRUFBbUM7QUFDM0IsTUFBRUMsV0FBRixHQUFrQmYsYUFBbEIsQ0FBRWUsV0FBRjtBQUFBLE1BQ0FQLFFBREEsR0FDVyxJQUFJUSxLQUFKLEVBRFg7QUFBQSxNQUVBQyxHQUZBLEdBRU1GLFdBRk4sQ0FEMkIsQ0FHUDs7QUFFMUJHLFNBQU9DLE1BQVAsQ0FBY1gsUUFBZCxFQUF3QjtBQUN0QlMsWUFEc0I7QUFFdEJHO0FBRnNCLEdBQXhCOztBQUtBLFdBQVNBLE1BQVQsQ0FBZ0JDLEtBQWhCLEVBQXVCO0FBQ3JCUCxhQUFTTixRQUFUO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTRSxNQUFULENBQWdCWSxRQUFoQixFQUEwQjtBQUN4QkMsVUFBUUMsR0FBUixDQUFZRixRQUFaO0FBQ0Q7O0FBRUQsU0FBU1gsSUFBVCxHQUFnQjtBQUNkWSxVQUFRQyxHQUFSLENBQVksT0FBWjtBQUNEIiwiZmlsZSI6InB5cmFtaWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHhnbCA9IHJlcXVpcmUoJy4uLy4uL2luZGV4Jyk7IC8vL1xuXG5jb25zdCBQeXJhbWlkID0gcmVxdWlyZSgnLi9lbGVtZW50L3B5cmFtaWQnKSxcbiAgICAgIGNvbmZpZ3VyYXRpb24gPSByZXF1aXJlKCcuLi9taXNjZWxsYW5lb3VzL2NvbmZpZ3VyYXRpb24nKTtcblxuY29uc3QgeyBDYW52YXMsIFNjZW5lLCBQYXJ0LCBDYW1lcmEgfSA9IHhnbDtcblxuY29uc3QgY2FudmFzID0gbmV3IENhbnZhcygpO1xuXG5jb25zdCBweXJhbWlkRXhhbXBsZSA9ICgpID0+IHtcbiAgcHJlbG9hZEltYWdlTWFwKChpbWFnZU1hcCkgPT4ge1xuICAgIGNvbnN0IHsgaW1hZ2VNYXBKU09OIH0gPSBjb25maWd1cmF0aW9uO1xuXG4gICAgcmV0dXJuIChcblxuICAgICAgPFNjZW5lIGNhbnZhcz17Y2FudmFzfSB1cGRhdGU9e3VwZGF0ZX0gZG9uZT17ZG9uZX0+XG4gICAgICAgIDxQYXJ0IGltYWdlTWFwPXtpbWFnZU1hcH0gaW1hZ2VNYXBKU09OPXtpbWFnZU1hcEpTT059PlxuICAgICAgICAgIDxQeXJhbWlkIC8+XG4gICAgICAgIDwvUGFydD5cbiAgICAgICAgPENhbWVyYSAvPlxuICAgICAgPC9TY2VuZT5cblxuICAgICk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBweXJhbWlkRXhhbXBsZTtcblxuZnVuY3Rpb24gcHJlbG9hZEltYWdlTWFwKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHsgaW1hZ2VNYXBVUkkgfSA9IGNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGltYWdlTWFwID0gbmV3IEltYWdlKCksXHQvLy9cbiAgICAgICAgc3JjID0gaW1hZ2VNYXBVUkk7ICAvLy9cblxuICBPYmplY3QuYXNzaWduKGltYWdlTWFwLCB7XG4gICAgc3JjLFxuICAgIG9ubG9hZFxuICB9KTtcblxuICBmdW5jdGlvbiBvbmxvYWQoZXZlbnQpIHtcbiAgICBjYWxsYmFjayhpbWFnZU1hcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlKHByb2dyZXNzKSB7XG4gIGNvbnNvbGUubG9nKHByb2dyZXNzKTtcbn1cblxuZnVuY3Rpb24gZG9uZSgpIHtcbiAgY29uc29sZS5sb2coJ0RvbmUhJyk7XG59XG4iXX0=