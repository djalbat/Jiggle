'use strict';

var necessary = require('necessary');

var arrayUtilities = necessary.arrayUtilities,
    asynchronousUtilities = necessary.asynchronousUtilities,
    repeatedly = asynchronousUtilities.repeatedly,
    first = arrayUtilities.first;


function preloadImages(sources, callback) {
  var images = [],
      length = sources.length; ///

  repeatedly(function (next, done, context, index) {
    var source = sources[index],
        image = new Image();

    images[index] = image;

    image.onload = next; ///

    image.src = source; ///
  }, length, done);

  function done() {
    callback(images);
  }
}

function createImageMap(images) {
  var firstImage = first(images),
      imageMap = firstImage; ///

  return imageMap;
}

module.exports = {
  preloadImages: preloadImages,
  createImageMap: createImageMap
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvaW1hZ2VzLmpzIl0sIm5hbWVzIjpbIm5lY2Vzc2FyeSIsInJlcXVpcmUiLCJhcnJheVV0aWxpdGllcyIsImFzeW5jaHJvbm91c1V0aWxpdGllcyIsInJlcGVhdGVkbHkiLCJmaXJzdCIsInByZWxvYWRJbWFnZXMiLCJzb3VyY2VzIiwiY2FsbGJhY2siLCJpbWFnZXMiLCJsZW5ndGgiLCJuZXh0IiwiZG9uZSIsImNvbnRleHQiLCJpbmRleCIsInNvdXJjZSIsImltYWdlIiwiSW1hZ2UiLCJvbmxvYWQiLCJzcmMiLCJjcmVhdGVJbWFnZU1hcCIsImZpcnN0SW1hZ2UiLCJpbWFnZU1hcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFlBQVlDLFFBQVEsV0FBUixDQUFsQjs7SUFFUUMsYyxHQUEwQ0YsUyxDQUExQ0UsYztJQUFnQkMscUIsR0FBMEJILFMsQ0FBMUJHLHFCO0lBQ2hCQyxVLEdBQWVELHFCLENBQWZDLFU7SUFDQUMsSyxHQUFVSCxjLENBQVZHLEs7OztBQUVSLFNBQVNDLGFBQVQsQ0FBdUJDLE9BQXZCLEVBQWdDQyxRQUFoQyxFQUEwQztBQUN4QyxNQUFNQyxTQUFTLEVBQWY7QUFBQSxNQUNNQyxTQUFTSCxRQUFRRyxNQUR2QixDQUR3QyxDQUVUOztBQUUvQk4sYUFDRSxVQUFTTyxJQUFULEVBQWVDLElBQWYsRUFBcUJDLE9BQXJCLEVBQThCQyxLQUE5QixFQUFxQztBQUNuQyxRQUFNQyxTQUFTUixRQUFRTyxLQUFSLENBQWY7QUFBQSxRQUNNRSxRQUFRLElBQUlDLEtBQUosRUFEZDs7QUFHQVIsV0FBT0ssS0FBUCxJQUFnQkUsS0FBaEI7O0FBRUFBLFVBQU1FLE1BQU4sR0FBZVAsSUFBZixDQU5tQyxDQU1iOztBQUV0QkssVUFBTUcsR0FBTixHQUFZSixNQUFaLENBUm1DLENBUWQ7QUFDdEIsR0FWSCxFQVdFTCxNQVhGLEVBWUVFLElBWkY7O0FBZUEsV0FBU0EsSUFBVCxHQUFnQjtBQUNkSixhQUFTQyxNQUFUO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTVyxjQUFULENBQXdCWCxNQUF4QixFQUFnQztBQUM5QixNQUFNWSxhQUFhaEIsTUFBTUksTUFBTixDQUFuQjtBQUFBLE1BQ01hLFdBQVdELFVBRGpCLENBRDhCLENBRUE7O0FBRTlCLFNBQU9DLFFBQVA7QUFDRDs7QUFFREMsT0FBT0MsT0FBUCxHQUFpQjtBQUNmbEIsaUJBQWVBLGFBREE7QUFFZmMsa0JBQWdCQTtBQUZELENBQWpCIiwiZmlsZSI6ImltYWdlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmVjZXNzYXJ5ID0gcmVxdWlyZSgnbmVjZXNzYXJ5Jyk7XG5cbmNvbnN0IHsgYXJyYXlVdGlsaXRpZXMsIGFzeW5jaHJvbm91c1V0aWxpdGllcyB9ID0gbmVjZXNzYXJ5LFxuICAgICAgeyByZXBlYXRlZGx5IH0gPSBhc3luY2hyb25vdXNVdGlsaXRpZXMsXG4gICAgICB7IGZpcnN0IH0gPSBhcnJheVV0aWxpdGllcztcblxuZnVuY3Rpb24gcHJlbG9hZEltYWdlcyhzb3VyY2VzLCBjYWxsYmFjaykge1xuICBjb25zdCBpbWFnZXMgPSBbXSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7IC8vL1xuXG4gIHJlcGVhdGVkbHkoXG4gICAgZnVuY3Rpb24obmV4dCwgZG9uZSwgY29udGV4dCwgaW5kZXgpIHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdLFxuICAgICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgaW1hZ2VzW2luZGV4XSA9IGltYWdlO1xuXG4gICAgICBpbWFnZS5vbmxvYWQgPSBuZXh0OyAgLy8vXG5cbiAgICAgIGltYWdlLnNyYyA9IHNvdXJjZTsgIC8vL1xuICAgIH0sXG4gICAgbGVuZ3RoLFxuICAgIGRvbmVcbiAgKTtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGNhbGxiYWNrKGltYWdlcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlSW1hZ2VNYXAoaW1hZ2VzKSB7XG4gIGNvbnN0IGZpcnN0SW1hZ2UgPSBmaXJzdChpbWFnZXMpLFxuICAgICAgICBpbWFnZU1hcCA9IGZpcnN0SW1hZ2U7ICAvLy9cblxuICByZXR1cm4gaW1hZ2VNYXA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwcmVsb2FkSW1hZ2VzOiBwcmVsb2FkSW1hZ2VzLFxuICBjcmVhdGVJbWFnZU1hcDogY3JlYXRlSW1hZ2VNYXBcbn07XG4iXX0=