'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var necessary = require('necessary');

var arrayUtilities = necessary.arrayUtilities;


function chop(elements, arrayLength) {
  var arrays = [],
      elementsLength = elements.length,
      arraysLength = elementsLength / arrayLength;

  for (var index = 0; index < arraysLength; index++) {
    var array = [];

    for (var offset = 0; offset < arrayLength; offset++) {
      array[offset] = elements[index * arrayLength + offset];
    }

    arrays[index] = array;
  }

  return arrays;
}

function dilute(elements, array, test) {
  elements.forEach(function (element, index) {
    var passed = test(element, index);

    if (passed) {
      array.push(element);
    }
  });
}

function permute(elements, places) {
  var length = elements.length,
      cut = length - places,
      leadingElements = elements.slice(0, cut),
      trailingElements = elements.slice(cut);

  elements = [].concat(_toConsumableArray(trailingElements), _toConsumableArray(leadingElements));

  return elements;
}

function flatten(arrays) {
  return arrays.reduce(function (elements, array) {
    return elements.concat(array);
  }, []);
}

function guarantee(arrayOrElement) {
  return arrayOrElement instanceof Array ? arrayOrElement : [arrayOrElement];
}

module.exports = Object.assign(arrayUtilities, {
  chop: chop,
  dilute: dilute,
  permute: permute,
  flatten: flatten,
  guarantee: guarantee
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvYXJyYXkuanMiXSwibmFtZXMiOlsibmVjZXNzYXJ5IiwicmVxdWlyZSIsImFycmF5VXRpbGl0aWVzIiwiY2hvcCIsImVsZW1lbnRzIiwiYXJyYXlMZW5ndGgiLCJhcnJheXMiLCJlbGVtZW50c0xlbmd0aCIsImxlbmd0aCIsImFycmF5c0xlbmd0aCIsImluZGV4IiwiYXJyYXkiLCJvZmZzZXQiLCJkaWx1dGUiLCJ0ZXN0IiwiZm9yRWFjaCIsImVsZW1lbnQiLCJwYXNzZWQiLCJwdXNoIiwicGVybXV0ZSIsInBsYWNlcyIsImN1dCIsImxlYWRpbmdFbGVtZW50cyIsInNsaWNlIiwidHJhaWxpbmdFbGVtZW50cyIsImZsYXR0ZW4iLCJyZWR1Y2UiLCJjb25jYXQiLCJndWFyYW50ZWUiLCJhcnJheU9yRWxlbWVudCIsIkFycmF5IiwibW9kdWxlIiwiZXhwb3J0cyIsIk9iamVjdCIsImFzc2lnbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxJQUFNQSxZQUFZQyxRQUFRLFdBQVIsQ0FBbEI7O0lBRVFDLGMsR0FBbUJGLFMsQ0FBbkJFLGM7OztBQUVSLFNBQVNDLElBQVQsQ0FBY0MsUUFBZCxFQUF3QkMsV0FBeEIsRUFBcUM7QUFDbkMsTUFBTUMsU0FBUyxFQUFmO0FBQUEsTUFDTUMsaUJBQWlCSCxTQUFTSSxNQURoQztBQUFBLE1BRU1DLGVBQWVGLGlCQUFpQkYsV0FGdEM7O0FBSUEsT0FBSyxJQUFJSyxRQUFRLENBQWpCLEVBQW9CQSxRQUFRRCxZQUE1QixFQUEwQ0MsT0FBMUMsRUFBbUQ7QUFDakQsUUFBTUMsUUFBUSxFQUFkOztBQUVBLFNBQUssSUFBSUMsU0FBUyxDQUFsQixFQUFxQkEsU0FBU1AsV0FBOUIsRUFBMkNPLFFBQTNDLEVBQXFEO0FBQ25ERCxZQUFNQyxNQUFOLElBQWdCUixTQUFTTSxRQUFRTCxXQUFSLEdBQXNCTyxNQUEvQixDQUFoQjtBQUNEOztBQUVETixXQUFPSSxLQUFQLElBQWdCQyxLQUFoQjtBQUNEOztBQUVELFNBQU9MLE1BQVA7QUFDRDs7QUFFRCxTQUFTTyxNQUFULENBQWdCVCxRQUFoQixFQUEwQk8sS0FBMUIsRUFBaUNHLElBQWpDLEVBQXVDO0FBQ3JDVixXQUFTVyxPQUFULENBQWlCLFVBQVNDLE9BQVQsRUFBa0JOLEtBQWxCLEVBQXlCO0FBQ3hDLFFBQU1PLFNBQVNILEtBQUtFLE9BQUwsRUFBY04sS0FBZCxDQUFmOztBQUVBLFFBQUlPLE1BQUosRUFBWTtBQUNWTixZQUFNTyxJQUFOLENBQVdGLE9BQVg7QUFDRDtBQUNGLEdBTkQ7QUFPRDs7QUFFRCxTQUFTRyxPQUFULENBQWlCZixRQUFqQixFQUEyQmdCLE1BQTNCLEVBQW1DO0FBQ2pDLE1BQU1aLFNBQVNKLFNBQVNJLE1BQXhCO0FBQUEsTUFDTWEsTUFBTWIsU0FBU1ksTUFEckI7QUFBQSxNQUVNRSxrQkFBa0JsQixTQUFTbUIsS0FBVCxDQUFlLENBQWYsRUFBa0JGLEdBQWxCLENBRnhCO0FBQUEsTUFHTUcsbUJBQW1CcEIsU0FBU21CLEtBQVQsQ0FBZUYsR0FBZixDQUh6Qjs7QUFLQWpCLDBDQUFlb0IsZ0JBQWYsc0JBQW9DRixlQUFwQzs7QUFFQSxTQUFPbEIsUUFBUDtBQUNEOztBQUVELFNBQVNxQixPQUFULENBQWlCbkIsTUFBakIsRUFBeUI7QUFDdkIsU0FBT0EsT0FBT29CLE1BQVAsQ0FBYyxVQUFTdEIsUUFBVCxFQUFtQk8sS0FBbkIsRUFBMEI7QUFDN0MsV0FBT1AsU0FBU3VCLE1BQVQsQ0FBZ0JoQixLQUFoQixDQUFQO0FBQ0QsR0FGTSxFQUVKLEVBRkksQ0FBUDtBQUdEOztBQUVELFNBQVNpQixTQUFULENBQW1CQyxjQUFuQixFQUFtQztBQUNqQyxTQUFRQSwwQkFBMEJDLEtBQTNCLEdBQ0dELGNBREgsR0FFSSxDQUFDQSxjQUFELENBRlg7QUFHRDs7QUFFREUsT0FBT0MsT0FBUCxHQUFpQkMsT0FBT0MsTUFBUCxDQUFjaEMsY0FBZCxFQUE4QjtBQUM3Q0MsUUFBTUEsSUFEdUM7QUFFN0NVLFVBQVFBLE1BRnFDO0FBRzdDTSxXQUFTQSxPQUhvQztBQUk3Q00sV0FBU0EsT0FKb0M7QUFLN0NHLGFBQVdBO0FBTGtDLENBQTlCLENBQWpCIiwiZmlsZSI6ImFycmF5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBuZWNlc3NhcnkgPSByZXF1aXJlKCduZWNlc3NhcnknKTtcblxuY29uc3QgeyBhcnJheVV0aWxpdGllcyB9ID0gbmVjZXNzYXJ5O1xuXG5mdW5jdGlvbiBjaG9wKGVsZW1lbnRzLCBhcnJheUxlbmd0aCkge1xuICBjb25zdCBhcnJheXMgPSBbXSxcbiAgICAgICAgZWxlbWVudHNMZW5ndGggPSBlbGVtZW50cy5sZW5ndGgsXG4gICAgICAgIGFycmF5c0xlbmd0aCA9IGVsZW1lbnRzTGVuZ3RoIC8gYXJyYXlMZW5ndGg7XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5c0xlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG5cbiAgICBmb3IgKGxldCBvZmZzZXQgPSAwOyBvZmZzZXQgPCBhcnJheUxlbmd0aDsgb2Zmc2V0KyspIHtcbiAgICAgIGFycmF5W29mZnNldF0gPSBlbGVtZW50c1tpbmRleCAqIGFycmF5TGVuZ3RoICsgb2Zmc2V0XTtcbiAgICB9XG5cbiAgICBhcnJheXNbaW5kZXhdID0gYXJyYXk7XG4gIH1cblxuICByZXR1cm4gYXJyYXlzO1xufVxuXG5mdW5jdGlvbiBkaWx1dGUoZWxlbWVudHMsIGFycmF5LCB0ZXN0KSB7XG4gIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpIHtcbiAgICBjb25zdCBwYXNzZWQgPSB0ZXN0KGVsZW1lbnQsIGluZGV4KTtcblxuICAgIGlmIChwYXNzZWQpIHtcbiAgICAgIGFycmF5LnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcGVybXV0ZShlbGVtZW50cywgcGxhY2VzKSB7XG4gIGNvbnN0IGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aCxcbiAgICAgICAgY3V0ID0gbGVuZ3RoIC0gcGxhY2VzLFxuICAgICAgICBsZWFkaW5nRWxlbWVudHMgPSBlbGVtZW50cy5zbGljZSgwLCBjdXQpLFxuICAgICAgICB0cmFpbGluZ0VsZW1lbnRzID0gZWxlbWVudHMuc2xpY2UoY3V0KTtcblxuICBlbGVtZW50cyA9IFsuLi50cmFpbGluZ0VsZW1lbnRzLCAuLi5sZWFkaW5nRWxlbWVudHNdO1xuXG4gIHJldHVybiBlbGVtZW50cztcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihhcnJheXMpIHtcbiAgcmV0dXJuIGFycmF5cy5yZWR1Y2UoZnVuY3Rpb24oZWxlbWVudHMsIGFycmF5KSB7XG4gICAgcmV0dXJuIGVsZW1lbnRzLmNvbmNhdChhcnJheSk7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gZ3VhcmFudGVlKGFycmF5T3JFbGVtZW50KSB7XG4gIHJldHVybiAoYXJyYXlPckVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheSkgP1xuICAgICAgICAgICAgYXJyYXlPckVsZW1lbnQgOlxuICAgICAgICAgICAgIFthcnJheU9yRWxlbWVudF07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbihhcnJheVV0aWxpdGllcywge1xuICBjaG9wOiBjaG9wLFxuICBkaWx1dGU6IGRpbHV0ZSxcbiAgcGVybXV0ZTogcGVybXV0ZSxcbiAgZmxhdHRlbjogZmxhdHRlbixcbiAgZ3VhcmFudGVlOiBndWFyYW50ZWVcbn0pO1xuIl19