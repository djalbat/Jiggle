'use strict';

var vectorMaths = require('../maths/vector'),
    matrixUtilities = require('../utilities/matrix');

var reflect3 = vectorMaths.reflect3,
    transform4 = vectorMaths.transform4,
    rotationsMatrixFromAngles = matrixUtilities.rotationsMatrixFromAngles;


function relativeOffsetsFromAnglesAndDirections(angles, directions) {
      var reverseOrder = true,
          reflectedAngles = reflect3(angles),
          rotationsMatrix = rotationsMatrixFromAngles(reflectedAngles, reverseOrder),
          relativeOffsets = transform4(directions, rotationsMatrix).slice(0, 3); ///

      return relativeOffsets;
}

module.exports = {
      relativeOffsetsFromAnglesAndDirections: relativeOffsetsFromAnglesAndDirections
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvb2Zmc2V0cy5qcyJdLCJuYW1lcyI6WyJ2ZWN0b3JNYXRocyIsInJlcXVpcmUiLCJtYXRyaXhVdGlsaXRpZXMiLCJyZWZsZWN0MyIsInRyYW5zZm9ybTQiLCJyb3RhdGlvbnNNYXRyaXhGcm9tQW5nbGVzIiwicmVsYXRpdmVPZmZzZXRzRnJvbUFuZ2xlc0FuZERpcmVjdGlvbnMiLCJhbmdsZXMiLCJkaXJlY3Rpb25zIiwicmV2ZXJzZU9yZGVyIiwicmVmbGVjdGVkQW5nbGVzIiwicm90YXRpb25zTWF0cml4IiwicmVsYXRpdmVPZmZzZXRzIiwic2xpY2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxjQUFjQyxRQUFRLGlCQUFSLENBQXBCO0FBQUEsSUFDTUMsa0JBQWtCRCxRQUFRLHFCQUFSLENBRHhCOztJQUdRRSxRLEdBQXlCSCxXLENBQXpCRyxRO0lBQVVDLFUsR0FBZUosVyxDQUFmSSxVO0lBQ1ZDLHlCLEdBQThCSCxlLENBQTlCRyx5Qjs7O0FBRVIsU0FBU0Msc0NBQVQsQ0FBZ0RDLE1BQWhELEVBQXdEQyxVQUF4RCxFQUFvRTtBQUNsRSxVQUFNQyxlQUFlLElBQXJCO0FBQUEsVUFDTUMsa0JBQWtCUCxTQUFTSSxNQUFULENBRHhCO0FBQUEsVUFFTUksa0JBQWtCTiwwQkFBMEJLLGVBQTFCLEVBQTJDRCxZQUEzQyxDQUZ4QjtBQUFBLFVBR01HLGtCQUFrQlIsV0FBV0ksVUFBWCxFQUF1QkcsZUFBdkIsRUFBd0NFLEtBQXhDLENBQThDLENBQTlDLEVBQWlELENBQWpELENBSHhCLENBRGtFLENBSVc7O0FBRTdFLGFBQU9ELGVBQVA7QUFDRDs7QUFFREUsT0FBT0MsT0FBUCxHQUFpQjtBQUNmVDtBQURlLENBQWpCIiwiZmlsZSI6Im9mZnNldHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHZlY3Rvck1hdGhzID0gcmVxdWlyZSgnLi4vbWF0aHMvdmVjdG9yJyksXG4gICAgICBtYXRyaXhVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi91dGlsaXRpZXMvbWF0cml4Jyk7XG5cbmNvbnN0IHsgcmVmbGVjdDMsIHRyYW5zZm9ybTQgfSA9IHZlY3Rvck1hdGhzLFxuICAgICAgeyByb3RhdGlvbnNNYXRyaXhGcm9tQW5nbGVzIH0gPSBtYXRyaXhVdGlsaXRpZXM7XG5cbmZ1bmN0aW9uIHJlbGF0aXZlT2Zmc2V0c0Zyb21BbmdsZXNBbmREaXJlY3Rpb25zKGFuZ2xlcywgZGlyZWN0aW9ucykge1xuICBjb25zdCByZXZlcnNlT3JkZXIgPSB0cnVlLFxuICAgICAgICByZWZsZWN0ZWRBbmdsZXMgPSByZWZsZWN0MyhhbmdsZXMpLFxuICAgICAgICByb3RhdGlvbnNNYXRyaXggPSByb3RhdGlvbnNNYXRyaXhGcm9tQW5nbGVzKHJlZmxlY3RlZEFuZ2xlcywgcmV2ZXJzZU9yZGVyKSxcbiAgICAgICAgcmVsYXRpdmVPZmZzZXRzID0gdHJhbnNmb3JtNChkaXJlY3Rpb25zLCByb3RhdGlvbnNNYXRyaXgpLnNsaWNlKDAsIDMpOyAvLy9cblxuICByZXR1cm4gcmVsYXRpdmVPZmZzZXRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVsYXRpdmVPZmZzZXRzRnJvbUFuZ2xlc0FuZERpcmVjdGlvbnNcbn07XG4iXX0=