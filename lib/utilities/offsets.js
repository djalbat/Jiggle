"use strict";

var vectorMaths = require("../maths/vector"),
    matrixUtilities = require("../utilities/matrix");

var reflect3 = vectorMaths.reflect3,
    transform4 = vectorMaths.transform4,
    rotationsMatrixFromAngles = matrixUtilities.rotationsMatrixFromAngles;

function relativeOffsetsFromAnglesAndDirections(angles, directions) {
  var reverseOrder = true,
      reflectedAngles = reflect3(angles),
      rotationsMatrix = rotationsMatrixFromAngles(reflectedAngles, reverseOrder),
      relativeOffsets = transform4(directions, rotationsMatrix).slice(0, 3); ///

  return relativeOffsets;
}

module.exports = {
  relativeOffsetsFromAnglesAndDirections: relativeOffsetsFromAnglesAndDirections
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9mZnNldHMuanMiXSwibmFtZXMiOlsidmVjdG9yTWF0aHMiLCJyZXF1aXJlIiwibWF0cml4VXRpbGl0aWVzIiwicmVmbGVjdDMiLCJ0cmFuc2Zvcm00Iiwicm90YXRpb25zTWF0cml4RnJvbUFuZ2xlcyIsInJlbGF0aXZlT2Zmc2V0c0Zyb21BbmdsZXNBbmREaXJlY3Rpb25zIiwiYW5nbGVzIiwiZGlyZWN0aW9ucyIsInJldmVyc2VPcmRlciIsInJlZmxlY3RlZEFuZ2xlcyIsInJvdGF0aW9uc01hdHJpeCIsInJlbGF0aXZlT2Zmc2V0cyIsInNsaWNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsaUJBQUQsQ0FBM0I7QUFBQSxJQUNNQyxlQUFlLEdBQUdELE9BQU8sQ0FBQyxxQkFBRCxDQUQvQjs7SUFHUUUsUSxHQUF5QkgsVyxDQUF6QkcsUTtJQUFVQyxVLEdBQWVKLFcsQ0FBZkksVTtJQUNWQyx5QixHQUE4QkgsZSxDQUE5QkcseUI7O0FBRVIsU0FBU0Msc0NBQVQsQ0FBZ0RDLE1BQWhELEVBQXdEQyxVQUF4RCxFQUFvRTtBQUNsRSxNQUFNQyxZQUFZLEdBQUcsSUFBckI7QUFBQSxNQUNNQyxlQUFlLEdBQUdQLFFBQVEsQ0FBQ0ksTUFBRCxDQURoQztBQUFBLE1BRU1JLGVBQWUsR0FBR04seUJBQXlCLENBQUNLLGVBQUQsRUFBa0JELFlBQWxCLENBRmpEO0FBQUEsTUFHTUcsZUFBZSxHQUFHUixVQUFVLENBQUNJLFVBQUQsRUFBYUcsZUFBYixDQUFWLENBQXdDRSxLQUF4QyxDQUE4QyxDQUE5QyxFQUFpRCxDQUFqRCxDQUh4QixDQURrRSxDQUlXOztBQUU3RSxTQUFPRCxlQUFQO0FBQ0Q7O0FBRURFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmVCxFQUFBQSxzQ0FBc0MsRUFBdENBO0FBRGUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgdmVjdG9yTWF0aHMgPSByZXF1aXJlKFwiLi4vbWF0aHMvdmVjdG9yXCIpLFxuICAgICAgbWF0cml4VXRpbGl0aWVzID0gcmVxdWlyZShcIi4uL3V0aWxpdGllcy9tYXRyaXhcIik7XG5cbmNvbnN0IHsgcmVmbGVjdDMsIHRyYW5zZm9ybTQgfSA9IHZlY3Rvck1hdGhzLFxuICAgICAgeyByb3RhdGlvbnNNYXRyaXhGcm9tQW5nbGVzIH0gPSBtYXRyaXhVdGlsaXRpZXM7XG5cbmZ1bmN0aW9uIHJlbGF0aXZlT2Zmc2V0c0Zyb21BbmdsZXNBbmREaXJlY3Rpb25zKGFuZ2xlcywgZGlyZWN0aW9ucykge1xuICBjb25zdCByZXZlcnNlT3JkZXIgPSB0cnVlLFxuICAgICAgICByZWZsZWN0ZWRBbmdsZXMgPSByZWZsZWN0MyhhbmdsZXMpLFxuICAgICAgICByb3RhdGlvbnNNYXRyaXggPSByb3RhdGlvbnNNYXRyaXhGcm9tQW5nbGVzKHJlZmxlY3RlZEFuZ2xlcywgcmV2ZXJzZU9yZGVyKSxcbiAgICAgICAgcmVsYXRpdmVPZmZzZXRzID0gdHJhbnNmb3JtNChkaXJlY3Rpb25zLCByb3RhdGlvbnNNYXRyaXgpLnNsaWNlKDAsIDMpOyAvLy9cblxuICByZXR1cm4gcmVsYXRpdmVPZmZzZXRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVsYXRpdmVPZmZzZXRzRnJvbUFuZ2xlc0FuZERpcmVjdGlvbnNcbn07XG4iXX0=