'use strict';

var constants = require('../../bin/constants'),
    ///
arrayUtilities = require('../utilities/array'),
    imageUtilities = require('../utilities/image');

var IMAGE_MAP_PATH = constants.IMAGE_MAP_PATH,
    flatten = arrayUtilities.flatten,
    preloadImage = imageUtilities.preloadImage,
    _runtimeConfiguration = runtimeConfiguration,
    imageMapJSON = _runtimeConfiguration.imageMapJSON;


function preloadImageMap(callback) {
  var path = IMAGE_MAP_PATH;

  preloadImage(path, callback);
}

function textureCoordinateDataFromImageNames(imageNames) {
  var textureCoordinates = imageNames.reduce(function (textureCoordinates, textureName) {
    textureCoordinates = textureCoordinates.concat(imageMapJSON[textureName]);

    return textureCoordinates;
  }, []),
      textureCoordinateData = flatten(textureCoordinates);

  return textureCoordinateData;
}

module.exports = {
  preloadImageMap: preloadImageMap,
  textureCoordinateDataFromImageNames: textureCoordinateDataFromImageNames
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvaW1hZ2VNYXAuanMiXSwibmFtZXMiOlsiY29uc3RhbnRzIiwicmVxdWlyZSIsImFycmF5VXRpbGl0aWVzIiwiaW1hZ2VVdGlsaXRpZXMiLCJJTUFHRV9NQVBfUEFUSCIsImZsYXR0ZW4iLCJwcmVsb2FkSW1hZ2UiLCJydW50aW1lQ29uZmlndXJhdGlvbiIsImltYWdlTWFwSlNPTiIsInByZWxvYWRJbWFnZU1hcCIsImNhbGxiYWNrIiwicGF0aCIsInRleHR1cmVDb29yZGluYXRlRGF0YUZyb21JbWFnZU5hbWVzIiwiaW1hZ2VOYW1lcyIsInRleHR1cmVDb29yZGluYXRlcyIsInJlZHVjZSIsInRleHR1cmVOYW1lIiwiY29uY2F0IiwidGV4dHVyZUNvb3JkaW5hdGVEYXRhIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsWUFBWUMsUUFBUSxxQkFBUixDQUFsQjtBQUFBLElBQWtEO0FBQzVDQyxpQkFBaUJELFFBQVEsb0JBQVIsQ0FEdkI7QUFBQSxJQUVNRSxpQkFBaUJGLFFBQVEsb0JBQVIsQ0FGdkI7O0FBSU0sSUFBRUcsY0FBRixHQUFxQkosU0FBckIsQ0FBRUksY0FBRjtBQUFBLElBQ0VDLE9BREYsR0FDY0gsY0FEZCxDQUNFRyxPQURGO0FBQUEsSUFFRUMsWUFGRixHQUVtQkgsY0FGbkIsQ0FFRUcsWUFGRjtBQUFBLDRCQUdtQkMsb0JBSG5CO0FBQUEsSUFHRUMsWUFIRix5QkFHRUEsWUFIRjs7O0FBS04sU0FBU0MsZUFBVCxDQUF5QkMsUUFBekIsRUFBbUM7QUFDakMsTUFBTUMsT0FBT1AsY0FBYjs7QUFFQUUsZUFBYUssSUFBYixFQUFtQkQsUUFBbkI7QUFDRDs7QUFFRCxTQUFTRSxtQ0FBVCxDQUE2Q0MsVUFBN0MsRUFBeUQ7QUFDdkQsTUFBTUMscUJBQXFCRCxXQUFXRSxNQUFYLENBQWtCLFVBQVNELGtCQUFULEVBQTZCRSxXQUE3QixFQUEwQztBQUMvRUYseUJBQXFCQSxtQkFBbUJHLE1BQW5CLENBQTBCVCxhQUFhUSxXQUFiLENBQTFCLENBQXJCOztBQUVBLFdBQU9GLGtCQUFQO0FBQ0QsR0FKb0IsRUFJbEIsRUFKa0IsQ0FBM0I7QUFBQSxNQUtNSSx3QkFBd0JiLFFBQVFTLGtCQUFSLENBTDlCOztBQU9BLFNBQU9JLHFCQUFQO0FBQ0Q7O0FBRURDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZlgsbUJBQWlCQSxlQURGO0FBRWZHLHVDQUFxQ0E7QUFGdEIsQ0FBakIiLCJmaWxlIjoiaW1hZ2VNYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uLy4uL2Jpbi9jb25zdGFudHMnKSwgLy8vXG4gICAgICBhcnJheVV0aWxpdGllcyA9IHJlcXVpcmUoJy4uL3V0aWxpdGllcy9hcnJheScpLFxuICAgICAgaW1hZ2VVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi91dGlsaXRpZXMvaW1hZ2UnKTtcblxuY29uc3QgeyBJTUFHRV9NQVBfUEFUSCB9ID0gY29uc3RhbnRzLFxuICAgICAgeyBmbGF0dGVuIH0gPSBhcnJheVV0aWxpdGllcyxcbiAgICAgIHsgcHJlbG9hZEltYWdlIH0gPSBpbWFnZVV0aWxpdGllcyxcbiAgICAgIHsgaW1hZ2VNYXBKU09OIH0gPSBydW50aW1lQ29uZmlndXJhdGlvbjtcblxuZnVuY3Rpb24gcHJlbG9hZEltYWdlTWFwKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHBhdGggPSBJTUFHRV9NQVBfUEFUSDtcblxuICBwcmVsb2FkSW1hZ2UocGF0aCwgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiB0ZXh0dXJlQ29vcmRpbmF0ZURhdGFGcm9tSW1hZ2VOYW1lcyhpbWFnZU5hbWVzKSB7XG4gIGNvbnN0IHRleHR1cmVDb29yZGluYXRlcyA9IGltYWdlTmFtZXMucmVkdWNlKGZ1bmN0aW9uKHRleHR1cmVDb29yZGluYXRlcywgdGV4dHVyZU5hbWUpIHtcbiAgICAgICAgICB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSB0ZXh0dXJlQ29vcmRpbmF0ZXMuY29uY2F0KGltYWdlTWFwSlNPTlt0ZXh0dXJlTmFtZV0pO1xuXG4gICAgICAgICAgcmV0dXJuIHRleHR1cmVDb29yZGluYXRlcztcbiAgICAgICAgfSwgW10pLFxuICAgICAgICB0ZXh0dXJlQ29vcmRpbmF0ZURhdGEgPSBmbGF0dGVuKHRleHR1cmVDb29yZGluYXRlcyk7XG5cbiAgcmV0dXJuIHRleHR1cmVDb29yZGluYXRlRGF0YTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHByZWxvYWRJbWFnZU1hcDogcHJlbG9hZEltYWdlTWFwLFxuICB0ZXh0dXJlQ29vcmRpbmF0ZURhdGFGcm9tSW1hZ2VOYW1lczogdGV4dHVyZUNvb3JkaW5hdGVEYXRhRnJvbUltYWdlTmFtZXNcbn07XG4iXX0=