'use strict';

var necessary = require('necessary');

var asynchronousUtilities = necessary.asynchronousUtilities,
    repeatedly = asynchronousUtilities.repeatedly;


function preloadImage(source, callback) {
  var image = new Image();

  image.onload = function () {
    callback(image);
  };

  image.src = source; ///
}

function preloadImages(sources, callback) {
  var images = [],
      length = sources.length,
      ///
  context = {
    images: images,
    sources: sources
  };

  repeatedly(preloadImageCallback, length, done, context);

  function done() {
    callback(images);
  }
}

module.exports = {
  preloadImage: preloadImage,
  preloadImages: preloadImages
};

function preloadImageCallback(next, done, context, index) {
  var images = context.images,
      sources = context.sources,
      source = sources[index],
      image = new Image();


  images[index] = image;

  image.onload = next; ///

  image.src = source; ///
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvaW1hZ2UuanMiXSwibmFtZXMiOlsibmVjZXNzYXJ5IiwicmVxdWlyZSIsImFzeW5jaHJvbm91c1V0aWxpdGllcyIsInJlcGVhdGVkbHkiLCJwcmVsb2FkSW1hZ2UiLCJzb3VyY2UiLCJjYWxsYmFjayIsImltYWdlIiwiSW1hZ2UiLCJvbmxvYWQiLCJzcmMiLCJwcmVsb2FkSW1hZ2VzIiwic291cmNlcyIsImltYWdlcyIsImxlbmd0aCIsImNvbnRleHQiLCJwcmVsb2FkSW1hZ2VDYWxsYmFjayIsImRvbmUiLCJtb2R1bGUiLCJleHBvcnRzIiwibmV4dCIsImluZGV4Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxZQUFZQyxRQUFRLFdBQVIsQ0FBbEI7O0FBRU0sSUFBRUMscUJBQUYsR0FBNEJGLFNBQTVCLENBQUVFLHFCQUFGO0FBQUEsSUFDRUMsVUFERixHQUNpQkQscUJBRGpCLENBQ0VDLFVBREY7OztBQUdOLFNBQVNDLFlBQVQsQ0FBc0JDLE1BQXRCLEVBQThCQyxRQUE5QixFQUF3QztBQUN0QyxNQUFNQyxRQUFRLElBQUlDLEtBQUosRUFBZDs7QUFFQUQsUUFBTUUsTUFBTixHQUFlLFlBQVc7QUFDeEJILGFBQVNDLEtBQVQ7QUFDRCxHQUZEOztBQUlBQSxRQUFNRyxHQUFOLEdBQVlMLE1BQVosQ0FQc0MsQ0FPakI7QUFDdEI7O0FBRUQsU0FBU00sYUFBVCxDQUF1QkMsT0FBdkIsRUFBZ0NOLFFBQWhDLEVBQTBDO0FBQ3hDLE1BQU1PLFNBQVMsRUFBZjtBQUFBLE1BQ01DLFNBQVNGLFFBQVFFLE1BRHZCO0FBQUEsTUFDK0I7QUFDekJDLFlBQVU7QUFDUkYsWUFBUUEsTUFEQTtBQUVSRCxhQUFTQTtBQUZELEdBRmhCOztBQU9BVCxhQUFXYSxvQkFBWCxFQUFpQ0YsTUFBakMsRUFBeUNHLElBQXpDLEVBQStDRixPQUEvQzs7QUFFQSxXQUFTRSxJQUFULEdBQWdCO0FBQ2RYLGFBQVNPLE1BQVQ7QUFDRDtBQUNGOztBQUVESyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZmLGdCQUFjQSxZQURDO0FBRWZPLGlCQUFlQTtBQUZBLENBQWpCOztBQUtBLFNBQVNLLG9CQUFULENBQThCSSxJQUE5QixFQUFvQ0gsSUFBcEMsRUFBMENGLE9BQTFDLEVBQW1ETSxLQUFuRCxFQUEwRDtBQUFBLE1BQ2hEUixNQURnRCxHQUM1QkUsT0FENEIsQ0FDaERGLE1BRGdEO0FBQUEsTUFDeENELE9BRHdDLEdBQzVCRyxPQUQ0QixDQUN4Q0gsT0FEd0M7QUFBQSxNQUVsRFAsTUFGa0QsR0FFekNPLFFBQVFTLEtBQVIsQ0FGeUM7QUFBQSxNQUdsRGQsS0FIa0QsR0FHMUMsSUFBSUMsS0FBSixFQUgwQzs7O0FBS3hESyxTQUFPUSxLQUFQLElBQWdCZCxLQUFoQjs7QUFFQUEsUUFBTUUsTUFBTixHQUFlVyxJQUFmLENBUHdELENBT2xDOztBQUV0QmIsUUFBTUcsR0FBTixHQUFZTCxNQUFaLENBVHdELENBU25DO0FBQ3RCIiwiZmlsZSI6ImltYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBuZWNlc3NhcnkgPSByZXF1aXJlKCduZWNlc3NhcnknKTtcblxuY29uc3QgeyBhc3luY2hyb25vdXNVdGlsaXRpZXMgfSA9IG5lY2Vzc2FyeSxcbiAgICAgIHsgcmVwZWF0ZWRseSB9ID0gYXN5bmNocm9ub3VzVXRpbGl0aWVzO1xuXG5mdW5jdGlvbiBwcmVsb2FkSW1hZ2Uoc291cmNlLCBjYWxsYmFjaykge1xuICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNhbGxiYWNrKGltYWdlKTtcbiAgfTtcblxuICBpbWFnZS5zcmMgPSBzb3VyY2U7ICAvLy9cbn1cblxuZnVuY3Rpb24gcHJlbG9hZEltYWdlcyhzb3VyY2VzLCBjYWxsYmFjaykge1xuICBjb25zdCBpbWFnZXMgPSBbXSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsIC8vL1xuICAgICAgICBjb250ZXh0ID0ge1xuICAgICAgICAgIGltYWdlczogaW1hZ2VzLFxuICAgICAgICAgIHNvdXJjZXM6IHNvdXJjZXNcbiAgICAgICAgfTtcblxuICByZXBlYXRlZGx5KHByZWxvYWRJbWFnZUNhbGxiYWNrLCBsZW5ndGgsIGRvbmUsIGNvbnRleHQpO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgY2FsbGJhY2soaW1hZ2VzKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcHJlbG9hZEltYWdlOiBwcmVsb2FkSW1hZ2UsXG4gIHByZWxvYWRJbWFnZXM6IHByZWxvYWRJbWFnZXNcbn07XG5cbmZ1bmN0aW9uIHByZWxvYWRJbWFnZUNhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KSB7XG4gIGNvbnN0IHsgaW1hZ2VzLCBzb3VyY2VzIH0gPSBjb250ZXh0LFxuICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XSxcbiAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICBpbWFnZXNbaW5kZXhdID0gaW1hZ2U7XG5cbiAgaW1hZ2Uub25sb2FkID0gbmV4dDsgIC8vL1xuXG4gIGltYWdlLnNyYyA9IHNvdXJjZTsgIC8vL1xufVxuIl19