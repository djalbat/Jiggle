'use strict';

var necessary = require('necessary');

var asynchronousUtilities = necessary.asynchronousUtilities,
    repeatedly = asynchronousUtilities.repeatedly;


function preloadImage(path, callback) {
  var image = new Image();

  image.onload = function () {
    callback(image);
  };

  image.src = path; ///
}

function preloadImages(paths, callback) {
  var images = [],
      length = paths.length,
      ///
  context = {
    images: images,
    paths: paths
  };

  repeatedly(preloadImageCallback, length, done, context);

  function done() {
    callback(images);
  }
}

module.exports = {
  preloadImage: preloadImage,
  preloadImages: preloadImages
};

function preloadImageCallback(next, done, context, index) {
  var images = context.images,
      paths = context.paths,
      path = paths[index],
      image = new Image();


  images[index] = image;

  image.onload = next; ///

  image.src = path; ///
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvaW1hZ2UuanMiXSwibmFtZXMiOlsibmVjZXNzYXJ5IiwicmVxdWlyZSIsImFzeW5jaHJvbm91c1V0aWxpdGllcyIsInJlcGVhdGVkbHkiLCJwcmVsb2FkSW1hZ2UiLCJwYXRoIiwiY2FsbGJhY2siLCJpbWFnZSIsIkltYWdlIiwib25sb2FkIiwic3JjIiwicHJlbG9hZEltYWdlcyIsInBhdGhzIiwiaW1hZ2VzIiwibGVuZ3RoIiwiY29udGV4dCIsInByZWxvYWRJbWFnZUNhbGxiYWNrIiwiZG9uZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJuZXh0IiwiaW5kZXgiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFlBQVlDLFFBQVEsV0FBUixDQUFsQjs7QUFFTSxJQUFFQyxxQkFBRixHQUE0QkYsU0FBNUIsQ0FBRUUscUJBQUY7QUFBQSxJQUNFQyxVQURGLEdBQ2lCRCxxQkFEakIsQ0FDRUMsVUFERjs7O0FBR04sU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLFFBQTVCLEVBQXNDO0FBQ3BDLE1BQU1DLFFBQVEsSUFBSUMsS0FBSixFQUFkOztBQUVBRCxRQUFNRSxNQUFOLEdBQWUsWUFBVztBQUN4QkgsYUFBU0MsS0FBVDtBQUNELEdBRkQ7O0FBSUFBLFFBQU1HLEdBQU4sR0FBWUwsSUFBWixDQVBvQyxDQU9qQjtBQUNwQjs7QUFFRCxTQUFTTSxhQUFULENBQXVCQyxLQUF2QixFQUE4Qk4sUUFBOUIsRUFBd0M7QUFDdEMsTUFBTU8sU0FBUyxFQUFmO0FBQUEsTUFDTUMsU0FBU0YsTUFBTUUsTUFEckI7QUFBQSxNQUM2QjtBQUN2QkMsWUFBVTtBQUNSRixZQUFRQSxNQURBO0FBRVJELFdBQU9BO0FBRkMsR0FGaEI7O0FBT0FULGFBQVdhLG9CQUFYLEVBQWlDRixNQUFqQyxFQUF5Q0csSUFBekMsRUFBK0NGLE9BQS9DOztBQUVBLFdBQVNFLElBQVQsR0FBZ0I7QUFDZFgsYUFBU08sTUFBVDtBQUNEO0FBQ0Y7O0FBRURLLE9BQU9DLE9BQVAsR0FBaUI7QUFDZmYsZ0JBQWNBLFlBREM7QUFFZk8saUJBQWVBO0FBRkEsQ0FBakI7O0FBS0EsU0FBU0ssb0JBQVQsQ0FBOEJJLElBQTlCLEVBQW9DSCxJQUFwQyxFQUEwQ0YsT0FBMUMsRUFBbURNLEtBQW5ELEVBQTBEO0FBQUEsTUFDaERSLE1BRGdELEdBQzlCRSxPQUQ4QixDQUNoREYsTUFEZ0Q7QUFBQSxNQUN4Q0QsS0FEd0MsR0FDOUJHLE9BRDhCLENBQ3hDSCxLQUR3QztBQUFBLE1BRWxEUCxJQUZrRCxHQUUzQ08sTUFBTVMsS0FBTixDQUYyQztBQUFBLE1BR2xEZCxLQUhrRCxHQUcxQyxJQUFJQyxLQUFKLEVBSDBDOzs7QUFLeERLLFNBQU9RLEtBQVAsSUFBZ0JkLEtBQWhCOztBQUVBQSxRQUFNRSxNQUFOLEdBQWVXLElBQWYsQ0FQd0QsQ0FPbEM7O0FBRXRCYixRQUFNRyxHQUFOLEdBQVlMLElBQVosQ0FUd0QsQ0FTckM7QUFDcEIiLCJmaWxlIjoiaW1hZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IG5lY2Vzc2FyeSA9IHJlcXVpcmUoJ25lY2Vzc2FyeScpO1xuXG5jb25zdCB7IGFzeW5jaHJvbm91c1V0aWxpdGllcyB9ID0gbmVjZXNzYXJ5LFxuICAgICAgeyByZXBlYXRlZGx5IH0gPSBhc3luY2hyb25vdXNVdGlsaXRpZXM7XG5cbmZ1bmN0aW9uIHByZWxvYWRJbWFnZShwYXRoLCBjYWxsYmFjaykge1xuICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNhbGxiYWNrKGltYWdlKTtcbiAgfTtcblxuICBpbWFnZS5zcmMgPSBwYXRoOyAgLy8vXG59XG5cbmZ1bmN0aW9uIHByZWxvYWRJbWFnZXMocGF0aHMsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGltYWdlcyA9IFtdLFxuICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsIC8vL1xuICAgICAgICBjb250ZXh0ID0ge1xuICAgICAgICAgIGltYWdlczogaW1hZ2VzLFxuICAgICAgICAgIHBhdGhzOiBwYXRoc1xuICAgICAgICB9O1xuXG4gIHJlcGVhdGVkbHkocHJlbG9hZEltYWdlQ2FsbGJhY2ssIGxlbmd0aCwgZG9uZSwgY29udGV4dCk7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBjYWxsYmFjayhpbWFnZXMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwcmVsb2FkSW1hZ2U6IHByZWxvYWRJbWFnZSxcbiAgcHJlbG9hZEltYWdlczogcHJlbG9hZEltYWdlc1xufTtcblxuZnVuY3Rpb24gcHJlbG9hZEltYWdlQ2FsbGJhY2sobmV4dCwgZG9uZSwgY29udGV4dCwgaW5kZXgpIHtcbiAgY29uc3QgeyBpbWFnZXMsIHBhdGhzIH0gPSBjb250ZXh0LFxuICAgICAgICBwYXRoID0gcGF0aHNbaW5kZXhdLFxuICAgICAgICBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gIGltYWdlc1tpbmRleF0gPSBpbWFnZTtcblxuICBpbWFnZS5vbmxvYWQgPSBuZXh0OyAgLy8vXG5cbiAgaW1hZ2Uuc3JjID0gcGF0aDsgIC8vL1xufVxuIl19