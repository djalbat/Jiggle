"use strict";

var _array = require("../utilities/array");

var _vector = require("../maths/vector");

var _approximate = require("../utilities/approximate");

function calculateIntersection(edge, firstPositionComponent) {
  var intersection = null;
  var edgeNonParallel = isEdgeNonParallel(edge);

  if (edgeNonParallel) {
    var edgeIntersection = calculateEdgeIntersection(edge, firstPositionComponent),
        edgeIntersectionNonTrivial = edgeIntersection > 0 && edgeIntersection < 1;

    if (edgeIntersectionNonTrivial) {
      intersection = edgeIntersection; ///
    }
  }

  return intersection;
}

function calculateNonNullIntersections(intersections) {
  var nonNullIntersections = intersections.reduce(function (nonNullIntersections, intersection) {
    if (intersection !== null) {
      var nonNullIntersection = intersection; ///

      nonNullIntersections.push(nonNullIntersection);
    }

    return nonNullIntersections;
  }, []);
  return nonNullIntersections;
}

function calculateNullIntersectionIndex(intersections) {
  var nullIntersectionIndex = intersections.reduce(function (nullIntersectionIndex, intersection, index) {
    if (nullIntersectionIndex === null) {
      if (intersection === null) {
        nullIntersectionIndex = index;
      }
    }

    return nullIntersectionIndex;
  }, null);
  return nullIntersectionIndex;
}

function calculateNonNullIntersectionIndex(intersections) {
  var nullIntersectionIndex = intersections.reduce(function (nullIntersectionIndex, intersection, index) {
    if (nullIntersectionIndex === null) {
      if (intersection !== null) {
        nullIntersectionIndex = index;
      }
    }

    return nullIntersectionIndex;
  }, null);
  return nullIntersectionIndex;
}

function calculateIntermediateVertexPosition(startVertexPosition, endVertexPosition, intersection) {
  var extent = (0, _vector.subtract3)(endVertexPosition, startVertexPosition),
      offset = (0, _vector.scale3)(extent, intersection),
      intermediateVertexPosition = (0, _vector.add3)(startVertexPosition, offset);
  return intermediateVertexPosition;
}

module.exports = module.exports = {
  calculateIntersection: calculateIntersection,
  calculateNonNullIntersections: calculateNonNullIntersections,
  calculateNullIntersectionIndex: calculateNullIntersectionIndex,
  calculateNonNullIntersectionIndex: calculateNonNullIntersectionIndex,
  calculateIntermediateVertexPosition: calculateIntermediateVertexPosition
};

function isEdgeNonParallel(edge) {
  var edgeExtent = edge.getExtent(),
      edgeExtentComponents = edgeExtent,
      ///
  firstEdgeExtentComponent = (0, _array.first)(edgeExtentComponents),
      secondEdgeExtentComponent = (0, _array.second)(edgeExtentComponents),
      edgeAngleTangent = firstEdgeExtentComponent / secondEdgeExtentComponent,
      edgeAngleTangentApproximatelyEqualToZero = (0, _approximate.isApproximatelyEqualToZero)(edgeAngleTangent),
      edgeParallel = edgeAngleTangentApproximatelyEqualToZero,
      ///
  edgeNonParallel = !edgeParallel;
  return edgeNonParallel;
}

function calculateEdgeIntersection(edge, firstPositionComponent) {
  var edgeExtent = edge.getExtent(),
      edgePosition = edge.getPosition(),
      edgeExtentComponents = edgeExtent,
      ///
  edgePositionComponents = edgePosition,
      ///
  firstEdgeExtentComponent = (0, _array.first)(edgeExtentComponents),
      firstEdgePositionComponent = (0, _array.first)(edgePositionComponents),
      edgeIntersection = (firstPositionComponent - firstEdgePositionComponent) / firstEdgeExtentComponent;
  return edgeIntersection;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVyc2VjdGlvbi5qcyJdLCJuYW1lcyI6WyJjYWxjdWxhdGVJbnRlcnNlY3Rpb24iLCJlZGdlIiwiZmlyc3RQb3NpdGlvbkNvbXBvbmVudCIsImludGVyc2VjdGlvbiIsImVkZ2VOb25QYXJhbGxlbCIsImlzRWRnZU5vblBhcmFsbGVsIiwiZWRnZUludGVyc2VjdGlvbiIsImNhbGN1bGF0ZUVkZ2VJbnRlcnNlY3Rpb24iLCJlZGdlSW50ZXJzZWN0aW9uTm9uVHJpdmlhbCIsImNhbGN1bGF0ZU5vbk51bGxJbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9ucyIsIm5vbk51bGxJbnRlcnNlY3Rpb25zIiwicmVkdWNlIiwibm9uTnVsbEludGVyc2VjdGlvbiIsInB1c2giLCJjYWxjdWxhdGVOdWxsSW50ZXJzZWN0aW9uSW5kZXgiLCJudWxsSW50ZXJzZWN0aW9uSW5kZXgiLCJpbmRleCIsImNhbGN1bGF0ZU5vbk51bGxJbnRlcnNlY3Rpb25JbmRleCIsImNhbGN1bGF0ZUludGVybWVkaWF0ZVZlcnRleFBvc2l0aW9uIiwic3RhcnRWZXJ0ZXhQb3NpdGlvbiIsImVuZFZlcnRleFBvc2l0aW9uIiwiZXh0ZW50Iiwib2Zmc2V0IiwiaW50ZXJtZWRpYXRlVmVydGV4UG9zaXRpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwiZWRnZUV4dGVudCIsImdldEV4dGVudCIsImVkZ2VFeHRlbnRDb21wb25lbnRzIiwiZmlyc3RFZGdlRXh0ZW50Q29tcG9uZW50Iiwic2Vjb25kRWRnZUV4dGVudENvbXBvbmVudCIsImVkZ2VBbmdsZVRhbmdlbnQiLCJlZGdlQW5nbGVUYW5nZW50QXBwcm94aW1hdGVseUVxdWFsVG9aZXJvIiwiZWRnZVBhcmFsbGVsIiwiZWRnZVBvc2l0aW9uIiwiZ2V0UG9zaXRpb24iLCJlZGdlUG9zaXRpb25Db21wb25lbnRzIiwiZmlyc3RFZGdlUG9zaXRpb25Db21wb25lbnQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOztBQUNBOztBQUVBLFNB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QUEzQixFQUFpQztBQUMvQixNQUFNMEIsVUFBVSxHQUFHMUIsSUFBSSxDQUFDMkIsU0FBTCxFQUFuQjtBQUFBLE1BQ01DLG9CQUFvQixHQUFHRixVQUQ3QjtBQUFBLE1BQ3lDO0FBQ25DRyxFQUFBQSx3QkFBd0IsR0FBRyxrQkFBTUQsb0JBQU4sQ0FGakM7QUFBQSxNQUdNRSx5QkFBeUIsR0FBRyxtQkFBT0Ysb0JBQVAsQ0FIbEM7QUFBQSxNQUlNRyxnQkFBZ0IsR0FBR0Ysd0JBQXdCLEdBQUdDLHlCQUpwRDtBQUFBLE1BS01FLHdDQUF3QyxHQUFHLDZDQUEyQkQsZ0JBQTNCLENBTGpEO0FBQUEsTUFNTUUsWUFBWSxHQUFHRCx3Q0FOckI7QUFBQSxNQU0rRDtBQUN6RDdCLEVBQUFBLGVBQWUsR0FBRyxDQUFDOEIsWUFQekI7QUFTQSxTQUFPOUIsZUFBUDtBQUNEOztBQUVELFNBQVNHLHlCQUFULENBQW1DTixJQUFuQyxFQUF5Q0Msc0JBQXpDLEVBQWlFO0FBQy9ELE1BQU15QixVQUFVLEdBQUcxQixJQUFJLENBQUMyQixTQUFMLEVBQW5CO0FBQUEsTUFDTU8sWUFBWSxHQUFHbEMsSUFBSSxDQUFDbUMsV0FBTCxFQURyQjtBQUFBLE1BRU1QLG9CQUFvQixHQUFHRixVQUY3QjtBQUFBLE1BRXlDO0FBQ25DVSxFQUFBQSxzQkFBc0IsR0FBR0YsWUFIL0I7QUFBQSxNQUc2QztBQUN2Q0wsRUFBQUEsd0JBQXdCLEdBQUcsa0JBQU1ELG9CQUFOLENBSmpDO0FBQUEsTUFLTVMsMEJBQTBCLEdBQUcsa0JBQU1ELHNCQUFOLENBTG5DO0FBQUEsTUFNTS9CLGdCQUFnQixHQUFHLENBQUNKLHNCQUFzQixHQUFHb0MsMEJBQTFCLElBQXdEUix3QkFOakY7QUFRQSxTQUFPeEIsZ0JBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBmaXJzdCwgc2Vjb25kIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9hcnJheVwiO1xuaW1wb3J0IHsgYWRkMywgc3VidHJhY3QzLCBzY2FsZTMgfSBmcm9tIFwiLi4vbWF0aHMvdmVjdG9yXCI7XG5pbXBvcnQgeyBpc0FwcHJveGltYXRlbHlFcXVhbFRvWmVybyB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXBwcm94aW1hdGVcIjtcblxuZnVuY3Rpb24gY2FsY3VsYXRlSW50ZXJzZWN0aW9uKGVkZ2UsIGZpcnN0UG9zaXRpb25Db21wb25lbnQpIHtcbiAgbGV0IGludGVyc2VjdGlvbiA9IG51bGw7XG5cbiAgY29uc3QgZWRnZU5vblBhcmFsbGVsID0gaXNFZGdlTm9uUGFyYWxsZWwoZWRnZSk7XG5cbiAgaWYgKGVkZ2VOb25QYXJhbGxlbCkge1xuICAgIGNvbnN0IGVkZ2VJbnRlcnNlY3Rpb24gPSBjYWxjdWxhdGVFZGdlSW50ZXJzZWN0aW9uKGVkZ2UsIGZpcnN0UG9zaXRpb25Db21wb25lbnQpLFxuICAgICAgICAgIGVkZ2VJbnRlcnNlY3Rpb25Ob25Ucml2aWFsID0gKChlZGdlSW50ZXJzZWN0aW9uID4gMCApICYmIChlZGdlSW50ZXJzZWN0aW9uIDwgMSkpO1xuXG4gICAgaWYgKGVkZ2VJbnRlcnNlY3Rpb25Ob25Ucml2aWFsKSB7XG4gICAgICBpbnRlcnNlY3Rpb24gPSBlZGdlSW50ZXJzZWN0aW9uOyAgLy8vXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGludGVyc2VjdGlvbjtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTm9uTnVsbEludGVyc2VjdGlvbnMoaW50ZXJzZWN0aW9ucykge1xuICBjb25zdCBub25OdWxsSW50ZXJzZWN0aW9ucyA9IGludGVyc2VjdGlvbnMucmVkdWNlKChub25OdWxsSW50ZXJzZWN0aW9ucywgaW50ZXJzZWN0aW9uKSA9PiB7XG4gICAgaWYgKGludGVyc2VjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qgbm9uTnVsbEludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjsgLy8vXG5cbiAgICAgIG5vbk51bGxJbnRlcnNlY3Rpb25zLnB1c2gobm9uTnVsbEludGVyc2VjdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vbk51bGxJbnRlcnNlY3Rpb25zO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIG5vbk51bGxJbnRlcnNlY3Rpb25zO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVOdWxsSW50ZXJzZWN0aW9uSW5kZXgoaW50ZXJzZWN0aW9ucykge1xuICBjb25zdCBudWxsSW50ZXJzZWN0aW9uSW5kZXggPSBpbnRlcnNlY3Rpb25zLnJlZHVjZSgobnVsbEludGVyc2VjdGlvbkluZGV4LCBpbnRlcnNlY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgaWYgKG51bGxJbnRlcnNlY3Rpb25JbmRleCA9PT0gbnVsbCkge1xuICAgICAgaWYgKGludGVyc2VjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICBudWxsSW50ZXJzZWN0aW9uSW5kZXggPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbEludGVyc2VjdGlvbkluZGV4O1xuICB9LCBudWxsKTtcblxuICByZXR1cm4gbnVsbEludGVyc2VjdGlvbkluZGV4O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVOb25OdWxsSW50ZXJzZWN0aW9uSW5kZXgoaW50ZXJzZWN0aW9ucykge1xuICBjb25zdCBudWxsSW50ZXJzZWN0aW9uSW5kZXggPSBpbnRlcnNlY3Rpb25zLnJlZHVjZSgobnVsbEludGVyc2VjdGlvbkluZGV4LCBpbnRlcnNlY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgaWYgKG51bGxJbnRlcnNlY3Rpb25JbmRleCA9PT0gbnVsbCkge1xuICAgICAgaWYgKGludGVyc2VjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICBudWxsSW50ZXJzZWN0aW9uSW5kZXggPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbEludGVyc2VjdGlvbkluZGV4O1xuICB9LCBudWxsKTtcblxuICByZXR1cm4gbnVsbEludGVyc2VjdGlvbkluZGV4O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVJbnRlcm1lZGlhdGVWZXJ0ZXhQb3NpdGlvbihzdGFydFZlcnRleFBvc2l0aW9uLCBlbmRWZXJ0ZXhQb3NpdGlvbiwgaW50ZXJzZWN0aW9uKSB7XG4gIGNvbnN0IGV4dGVudCA9IHN1YnRyYWN0MyhlbmRWZXJ0ZXhQb3NpdGlvbiwgc3RhcnRWZXJ0ZXhQb3NpdGlvbiksXG4gICAgICAgIG9mZnNldCA9IHNjYWxlMyhleHRlbnQsIGludGVyc2VjdGlvbiksXG4gICAgICAgIGludGVybWVkaWF0ZVZlcnRleFBvc2l0aW9uID0gYWRkMyhzdGFydFZlcnRleFBvc2l0aW9uLCBvZmZzZXQpO1xuXG4gIHJldHVybiBpbnRlcm1lZGlhdGVWZXJ0ZXhQb3NpdGlvbjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2FsY3VsYXRlSW50ZXJzZWN0aW9uLFxuICBjYWxjdWxhdGVOb25OdWxsSW50ZXJzZWN0aW9ucyxcbiAgY2FsY3VsYXRlTnVsbEludGVyc2VjdGlvbkluZGV4LFxuICBjYWxjdWxhdGVOb25OdWxsSW50ZXJzZWN0aW9uSW5kZXgsXG4gIGNhbGN1bGF0ZUludGVybWVkaWF0ZVZlcnRleFBvc2l0aW9uXG59O1xuXG5mdW5jdGlvbiBpc0VkZ2VOb25QYXJhbGxlbChlZGdlKSB7XG4gIGNvbnN0IGVkZ2VFeHRlbnQgPSBlZGdlLmdldEV4dGVudCgpLFxuICAgICAgICBlZGdlRXh0ZW50Q29tcG9uZW50cyA9IGVkZ2VFeHRlbnQsIC8vL1xuICAgICAgICBmaXJzdEVkZ2VFeHRlbnRDb21wb25lbnQgPSBmaXJzdChlZGdlRXh0ZW50Q29tcG9uZW50cyksXG4gICAgICAgIHNlY29uZEVkZ2VFeHRlbnRDb21wb25lbnQgPSBzZWNvbmQoZWRnZUV4dGVudENvbXBvbmVudHMpLFxuICAgICAgICBlZGdlQW5nbGVUYW5nZW50ID0gZmlyc3RFZGdlRXh0ZW50Q29tcG9uZW50IC8gc2Vjb25kRWRnZUV4dGVudENvbXBvbmVudCxcbiAgICAgICAgZWRnZUFuZ2xlVGFuZ2VudEFwcHJveGltYXRlbHlFcXVhbFRvWmVybyA9IGlzQXBwcm94aW1hdGVseUVxdWFsVG9aZXJvKGVkZ2VBbmdsZVRhbmdlbnQpLFxuICAgICAgICBlZGdlUGFyYWxsZWwgPSBlZGdlQW5nbGVUYW5nZW50QXBwcm94aW1hdGVseUVxdWFsVG9aZXJvLCAvLy9cbiAgICAgICAgZWRnZU5vblBhcmFsbGVsID0gIWVkZ2VQYXJhbGxlbDtcblxuICByZXR1cm4gZWRnZU5vblBhcmFsbGVsO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVFZGdlSW50ZXJzZWN0aW9uKGVkZ2UsIGZpcnN0UG9zaXRpb25Db21wb25lbnQpIHtcbiAgY29uc3QgZWRnZUV4dGVudCA9IGVkZ2UuZ2V0RXh0ZW50KCksXG4gICAgICAgIGVkZ2VQb3NpdGlvbiA9IGVkZ2UuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgZWRnZUV4dGVudENvbXBvbmVudHMgPSBlZGdlRXh0ZW50LCAvLy9cbiAgICAgICAgZWRnZVBvc2l0aW9uQ29tcG9uZW50cyA9IGVkZ2VQb3NpdGlvbiwgLy8vXG4gICAgICAgIGZpcnN0RWRnZUV4dGVudENvbXBvbmVudCA9IGZpcnN0KGVkZ2VFeHRlbnRDb21wb25lbnRzKSxcbiAgICAgICAgZmlyc3RFZGdlUG9zaXRpb25Db21wb25lbnQgPSBmaXJzdChlZGdlUG9zaXRpb25Db21wb25lbnRzKSxcbiAgICAgICAgZWRnZUludGVyc2VjdGlvbiA9IChmaXJzdFBvc2l0aW9uQ29tcG9uZW50IC0gZmlyc3RFZGdlUG9zaXRpb25Db21wb25lbnQpIC8gZmlyc3RFZGdlRXh0ZW50Q29tcG9uZW50O1xuXG4gIHJldHVybiBlZGdlSW50ZXJzZWN0aW9uO1xufVxuIl19